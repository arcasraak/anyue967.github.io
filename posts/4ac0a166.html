<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="baidu-site-verification" content="CgwFJwXKXv">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"anyue967.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":"motion","async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="2019-06-11-Linux基础命令">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux基础命令">
<meta property="og:url" content="https://anyue967.github.io/posts/4ac0a166.html">
<meta property="og:site_name" content="旅行">
<meta property="og:description" content="2019-06-11-Linux基础命令">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://anyue967.github.io/posts/4ac0a166/%E9%A6%96%E6%89%87%E5%8C%BA%E5%9B%BE%E7%A4%BA.png">
<meta property="og:image" content="https://anyue967.github.io/posts/4ac0a166/%E9%80%BB%E8%BE%91%E5%88%86%E5%8C%BA.png">
<meta property="og:image" content="https://anyue967.github.io/posts/4ac0a166/%E5%88%86%E5%8C%BA%E6%96%B9%E6%A1%88.png">
<meta property="og:image" content="https://anyue967.github.io/posts/4ac0a166/find.jpg">
<meta property="og:image" content="https://anyue967.github.io/posts/4ac0a166/crontab.png">
<meta property="og:image" content="https://anyue967.github.io/posts/4ac0a166/umask.jpg">
<meta property="og:image" content="https://anyue967.github.io/posts/4ac0a166/colorBash.jpg">
<meta property="article:published_time" content="2019-06-11T01:05:00.000Z">
<meta property="article:modified_time" content="2020-09-14T09:44:14.560Z">
<meta property="article:author" content="anyue967">
<meta property="article:tag" content="linux命令">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://anyue967.github.io/posts/4ac0a166/%E9%A6%96%E6%89%87%E5%8C%BA%E5%9B%BE%E7%A4%BA.png">

<link rel="canonical" href="https://anyue967.github.io/posts/4ac0a166.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Linux基础命令 | 旅行</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="旅行" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">旅行</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">The end of the world</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">41</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">27</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">43</span></a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/anyue967" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://anyue967.github.io/posts/4ac0a166.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="anyue967">
      <meta itemprop="description" content="Just for one truth">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="旅行">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux基础命令
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-06-11 09:05:00" itemprop="dateCreated datePublished" datetime="2019-06-11T09:05:00+08:00">2019-06-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-14 17:44:14" itemprop="dateModified" datetime="2020-09-14T17:44:14+08:00">2020-09-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
              <span>℃</span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/4ac0a166.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/4ac0a166.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>34k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>31 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>2019-06-11-Linux基础命令</p>
<a id="more"></a>

<p>199 238 106</p>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录 "></a>目录 <a id="back"></a></h2><ul>
<li><a href="#mbr" target="_self">首扇区知识</a></li>
<li><a href="#rpm" target="_self">RPM</a></li>
<li><a href="#yum" target="_self">Yum</a></li>
<li><a href="#chkconfig" target="_self">启动模式</a></li>
<li><a href="#service" target="_self">管理服务</a></li>
<li><a href="#date" target="_self">日期命令</a></li>
<li><a href="#pidof" target="_self">查看进程IDpidof</a></li>
<li><a href="#kill" target="_self">杀死进程IDkill</a></li>
<li><a href="#killall" target="_self">杀死进程服务killall</a></li>
<li><a href="#tar" target="_self">打包压缩与搜索命令</a></li>
<li><a href="#director" target="_self">重定向操作</a></li>
<li><a href="#yumku" target="_self">配置yum库</a></li>
<li><a href="#shell" target="_self">Shell脚本</a></li>
<li><a href="#crontab" target="_self">crontab</a></li>
</ul>
<h2 id="分区方案："><a href="#分区方案：" class="headerlink" title="分区方案："></a>分区方案：</h2><h3 id="背景知识："><a href="#背景知识：" class="headerlink" title="背景知识："></a>背景知识：</h3><h4 id="硬盘建立分区"><a href="#硬盘建立分区" class="headerlink" title="硬盘建立分区"></a>硬盘建立分区</h4><ul>
<li>主分区-&gt; 扩展分区-&gt; 逻辑分区-&gt; 激活主分区-&gt; 格式化所有分区；</li>
<li>虚拟机的三种网络模式：<strong>桥接网络</strong>，<strong>NAT网络地址转换(VMnet8)**，</strong>仅主机模式(VMnet1)**；其中，主机模式仅仅与物理主机通信，不能访问外网，而其它两种可以通过物理主机进行外网的访问。</li>
</ul>
<h4 id="主引导记录-MBR-Master-Boot-Record"><a href="#主引导记录-MBR-Master-Boot-Record" class="headerlink" title="主引导记录 MBR (Master Boot Record): "></a>主引导记录 MBR (Master Boot Record): <a id="mbr"></a></h4><ul>
<li>硬盘由大量扇区构成，以首扇区最重要，<strong>硬盘0号(首)扇区共512B</strong>，<strong>结束符占2B</strong>，<strong>主引导记录占446B</strong>，所以<strong>分区表就只有64B</strong>，分区表记录一个分区信息需要16B，所以做多记录4个分区信息；</li>
<li>为了解决分区不够的问题，可将其中的分区信息指向另外一个分区，称为<strong>扩展分区(扩展分区0扇区)**，在扩展分区里划分逻辑分区，</strong>一块硬盘只能有一个扩展分区，1/2/3/4号只能给主分区，5/6开始为逻辑分区**;   </li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dd <span class="keyword">if</span>=/dev/sda of=MBR bs=1 count=64 skip=446 &amp;&amp; hexdump -C /dev/sda -n 512 <span class="comment"># 备份分区表:以字节为单位 </span></span><br><span class="line"><span class="comment"># 测试: </span></span><br><span class="line">dd <span class="keyword">if</span>=/dev/zero of=/dev/sda bs=1 count=64 seek=446 &amp;&amp; dd <span class="keyword">if</span>=MBR of=/dev/sda bs=1 count=64 seek=446 &amp;&amp; sync  </span><br></pre></td></tr></table></figure>

<img src="/posts/4ac0a166/%E9%A6%96%E6%89%87%E5%8C%BA%E5%9B%BE%E7%A4%BA.png" class title="[首扇区图示]">       
<img src="/posts/4ac0a166/%E9%80%BB%E8%BE%91%E5%88%86%E5%8C%BA.png" class title="[分区图示]"> 

<h4 id="Linux-下的分区方案"><a href="#Linux-下的分区方案" class="headerlink" title="Linux 下的分区方案"></a>Linux 下的分区方案</h4><table>
<thead>
<tr>
<th>分区</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>/</td>
<td>用于存放系统，划为主分区 ✔</td>
</tr>
<tr>
<td>/boot</td>
<td>引导分区，划为主分区，大概200M即可； ✔</td>
</tr>
<tr>
<td>/swap</td>
<td>充当虚拟内存，划为逻辑分区，大致为电脑内存； ✔</td>
</tr>
<tr>
<td>/home</td>
<td>划为逻辑分区，用于存放用户文件； ✔</td>
</tr>
<tr>
<td>/tmp</td>
<td>存放临时文件，可有可无，划为逻辑分区；</td>
</tr>
</tbody></table>
<img src="/posts/4ac0a166/%E5%88%86%E5%8C%BA%E6%96%B9%E6%A1%88.png" class title="[分区方案]">

<h4 id="RPM-红帽软件包管理器-相当于windows-的控制面板的软件管理"><a href="#RPM-红帽软件包管理器-相当于windows-的控制面板的软件管理" class="headerlink" title="RPM:(红帽软件包管理器) 相当于windows 的控制面板的软件管理 "></a>RPM:(红帽软件包管理器) 相当于windows 的控制面板的软件管理 <a id="rpm"></a></h4><table>
<thead>
<tr>
<th>RPM -选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>rpm -ivh filename.rpm</td>
<td>-v:verbose -h:进度 安装软件✔, -i,–info</td>
</tr>
<tr>
<td>rpm -Uvh filename.rpm</td>
<td>升级</td>
</tr>
<tr>
<td>rpm -e filename.rpm</td>
<td>--nodeps 不检查依赖性 卸载软件✔, -e,–erase</td>
</tr>
<tr>
<td>rpm -qa | grep filename</td>
<td>查询所安装的包的名称✔</td>
</tr>
<tr>
<td>rpm -qc filename</td>
<td>查询所安装的包的配置文件✔</td>
</tr>
<tr>
<td>rpm -qd filename</td>
<td>查询所安装的包的帮助文件✔</td>
</tr>
<tr>
<td>rpm -qi filename.rpm</td>
<td>查询包描述信息 -p(查未安装,包全名)</td>
</tr>
<tr>
<td>rpm -ql filename.rpm</td>
<td>列出包文件信息 -p(查未安装)</td>
</tr>
<tr>
<td>rpm -qf filename</td>
<td>查询文件属于哪个包</td>
</tr>
<tr>
<td>rpm -V filename</td>
<td>验证</td>
</tr>
</tbody></table>
<h4 id="程序包来源"><a href="#程序包来源" class="headerlink" title="程序包来源"></a>程序包来源</h4><ul>
<li>Fedora-EPEL: Extra PAckages for Enterprise Linux</li>
<li>Rpmforge: RHEL推荐</li>
<li><a target="_blank" rel="noopener" href="http://pkgs.org/">http://pkgs.org</a> <a target="_blank" rel="noopener" href="http://rpmfind.net/">http://rpmfind.net</a> <a target="_blank" rel="noopener" href="http://rpm.pbone.net/">http://rpm.pbone.net</a> <a target="_blank" rel="noopener" href="https://sourceforge.net/">https://sourceforge.net</a>  </li>
<li><code>rpm2cpio tree</code></li>
<li><code>rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6</code> # 导入密钥</li>
<li><code>rpm2cpio Package.rpm |cpio -idv .文件绝对路径</code>  # RPM包文件提取   </li>
<li><code>patch -pnumber &lt;文件</code></li>
</ul>
<h4 id="Yum软件仓库-解决包的依赖性"><a href="#Yum软件仓库-解决包的依赖性" class="headerlink" title="Yum软件仓库(解决包的依赖性): "></a>Yum软件仓库(解决包的依赖性): <a id="yum"></a></h4><table>
<thead>
<tr>
<th>yum 选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>yum repolist all</td>
<td>列出软件仓库  ✔</td>
</tr>
<tr>
<td>yum list all/installed</td>
<td>列出仓库所有软件/已安装的 ✔</td>
</tr>
<tr>
<td>yum info 包名称</td>
<td>查看包信息  ✔</td>
</tr>
<tr>
<td>yum history</td>
<td>info undo redo查看历史</td>
</tr>
<tr>
<td>yum search Package</td>
<td>查寻包</td>
</tr>
<tr>
<td>yum install 包名称</td>
<td>安装包 ✔</td>
</tr>
<tr>
<td>yum reinstall 包名称</td>
<td>卸载包  ✔</td>
</tr>
<tr>
<td>yum update 包名称</td>
<td>升级包  ✔</td>
</tr>
<tr>
<td>yum remove 包名称</td>
<td>移除包 ✔</td>
</tr>
<tr>
<td>yum clean all</td>
<td>清除所有仓库缓存 ✔</td>
</tr>
<tr>
<td>yum check-update</td>
<td>检查可更新的包  ✔</td>
</tr>
<tr>
<td>yum grouplist</td>
<td>查看系统中已经安装的包组</td>
</tr>
<tr>
<td>yum groupinstall</td>
<td>包组 安装指的包组</td>
</tr>
<tr>
<td>yum groupremove</td>
<td>包组 移除指定的包组</td>
</tr>
<tr>
<td>yum groupinfo</td>
<td>包组 查询指定的包组信息</td>
</tr>
<tr>
<td>yum deplist httpd</td>
<td>列出依赖包</td>
</tr>
<tr>
<td>yum provides rz</td>
<td>查找命令rz的提供者</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BIOS-&gt; Boot Loader-&gt; 内核-&gt; 内核初始化-&gt; 启动初始化进程(systemd) ✔</span><br><span class="line"><span class="built_in">command</span> [options] [arguments]  <span class="comment"># 命令 选项 参数</span></span><br></pre></td></tr></table></figure>

<h4 id="启用多用户"><a href="#启用多用户" class="headerlink" title="启用多用户   "></a>启用多用户   <a id="chkconfig"></a></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># ln -sf /lib/systemd/system/multi-user.target /etc/systemd/system/default.target # 无图形模式 </span></span><br><span class="line">[root@xy ~]<span class="comment"># ln -sf /lib/systemd/system/graphical.target /etc/systemd/system/default.target # 图形模式</span></span><br></pre></td></tr></table></figure>

<h3 id="3-管理服务"><a href="#3-管理服务" class="headerlink" title="3. 管理服务  "></a>3. 管理服务  <a id="service"></a></h3><h4 id="3-1-RPM-包安装"><a href="#3-1-RPM-包安装" class="headerlink" title="3.1 RPM 包安装"></a>3.1 RPM 包安装</h4><ul>
<li><p>独立服务:</p>
<ul>
<li><p>服务启动:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/etc/rc.d/init.d/httpd start</span><br><span class="line">service httpd start</span><br></pre></td></tr></table></figure>
</li>
<li><p>服务自启动:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --levle 2345 httpd on |off</span><br><span class="line">vim /etc/rc.d/rc.local     <span class="comment"># 添加: /etc/rc.d/init.d/httpd start</span></span><br><span class="line">ntsysv</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>基于xinetd 的非独立服务:</p>
<ul>
<li><p>服务启动:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/xinetd/telnet    <span class="comment"># disable = no, 重启xinetd</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>服务自启动:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chkconfig httpd on|off</span><br><span class="line">ntsysv</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="3-2-源码安装"><a href="#3-2-源码安装" class="headerlink" title="3.2 源码安装"></a>3.2 源码安装</h4><blockquote>
<p>service 命令其实只是在<code>/etc/init.d/</code>目录中寻找是否有服务<strong>启动脚本</strong>, 通过源码安装的服务, 需要要把<strong>启动脚本</strong>软连接到此目录; <code>ln -s /usr/local/apache2/bin/apachectl /etc/init.d/httpd</code>  </p>
</blockquote>
<blockquote>
<p>chkconfig 需要修改<code>/etc/init.d/httpd </code>, <code>chkconfig --add apachectl</code></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># chkconfig: 35 86 76 </span></span><br><span class="line"><span class="comment"># 指定httpd在3和5级别能被chkconfig命令管理, 启动顺序Start 86, 关闭顺序Kill 76</span></span><br><span class="line"><span class="comment"># (顺序自定, 和系统不冲突)</span></span><br><span class="line"><span class="comment"># description: source package apache</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>System V init</th>
<th>systemctl</th>
</tr>
</thead>
<tbody><tr>
<td>service foo start</td>
<td>systemctl start foo.service</td>
</tr>
<tr>
<td>service foo restar</td>
<td>systemctl restart foo.service</td>
</tr>
<tr>
<td>service foo stop</td>
<td>systemctl stop foo.service</td>
</tr>
<tr>
<td>service foo reload</td>
<td>systemctl reload foo.service</td>
</tr>
<tr>
<td>service foo status</td>
<td>systemctl status foo.service</td>
</tr>
<tr>
<td>—</td>
<td>journalctl -xe</td>
</tr>
</tbody></table>
<h3 id="4-设置服务开机启动、不启动"><a href="#4-设置服务开机启动、不启动" class="headerlink" title="4. 设置服务开机启动、不启动"></a>4. 设置服务开机启动、不启动</h3><table>
<thead>
<tr>
<th>System V init</th>
<th>systemctl</th>
</tr>
</thead>
<tbody><tr>
<td>chkconfig foo on</td>
<td>systemctl enable foo.service</td>
</tr>
<tr>
<td>chkconfig foo off</td>
<td>systemctl disable foo.service</td>
</tr>
<tr>
<td>chkconfig foo list</td>
<td>systemctl list-unit-files –type=service</td>
</tr>
<tr>
<td>–level默认级别2345</td>
<td>—</td>
</tr>
</tbody></table>
<h3 id="5-重置密码操作"><a href="#5-重置密码操作" class="headerlink" title="5. 重置密码操作"></a>5. 重置密码操作</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/redhat-release  　　<span class="comment"># 查看redhat-realease version</span></span><br><span class="line">  linux16 追加 rd.break ctrl+x运行  </span><br><span class="line">mount -o remount, rw /sysroot  </span><br><span class="line">chroot /sysroot </span><br><span class="line">passwd</span><br><span class="line">touch /.autorelable </span><br><span class="line"><span class="built_in">exit</span> </span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<h3 id="6-解决piix4-smbus-0000-00-007-3-Host-SMBus-controller-not-enabled"><a href="#6-解决piix4-smbus-0000-00-007-3-Host-SMBus-controller-not-enabled" class="headerlink" title="6. 解决piix4_smbus 0000:00:007:3:Host SMBus controller not enabled!"></a>6. 解决piix4_smbus 0000:00:007:3:Host SMBus controller not enabled!</h3><ul>
<li><p>modprobe</p>
<ul>
<li>modprobe MOD_NAME: 装载模块  </li>
<li>modprobe -r MOD_NAME: 卸载模块  </li>
<li>modinfo MOD_NAME: 查看模块具体信息  </li>
</ul>
</li>
<li><p>insmod /PATH/TO/MODULE_FILE: 装载模块</p>
</li>
<li><p>rmmod MOD_NAME</p>
</li>
<li><p>depmod /PATH/TO/MODULE_FILE</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xy Desktop]<span class="comment"># lsmod |grep i2c　　 # lsmod 查看模块  </span></span><br><span class="line">  i2c_piix4              22106  0   </span><br><span class="line">  i2c_core               40325  2 drm,i2c_piix4  </span><br><span class="line">[root@xy Desktop]<span class="comment"># vim /etc/modprobe.d/blacklist.conf    </span></span><br><span class="line">  blacklist i2c-piix4 　　　　 <span class="comment"># 加黑名单  </span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<h3 id="7-常用系统工作命令"><a href="#7-常用系统工作命令" class="headerlink" title="7. 常用系统工作命令"></a>7. 常用系统工作命令</h3><h4 id="7-1-man"><a href="#7-1-man" class="headerlink" title="7.1 man"></a>7.1 man</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># whatis motd    </span></span><br><span class="line">[root@xy ~]<span class="comment"># man 5 motd　　# 帮助 n N ?   </span></span><br><span class="line">[root@xy ~]<span class="comment"># man -w issue  </span></span><br></pre></td></tr></table></figure>

<h4 id="7-2-echo-字符串-变量"><a href="#7-2-echo-字符串-变量" class="headerlink" title="7.2 echo  　　# 字符串 / $变量"></a>7.2 echo  　　# 字符串 / $变量</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># echo xy</span></span><br><span class="line">  xy  </span><br><span class="line">[root@xy ~]<span class="comment"># echo $SHELL </span></span><br><span class="line">  /bin/bash</span><br></pre></td></tr></table></figure>

<h4 id="7-3-date"><a href="#7-3-date" class="headerlink" title="7.3 date  "></a>7.3 date  <a id="date"></a></h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>%t</td>
<td>跳格</td>
</tr>
<tr>
<td>%H</td>
<td>小时(00~23)</td>
</tr>
<tr>
<td>%S</td>
<td>秒(00~59)</td>
</tr>
<tr>
<td>%I</td>
<td>小时(00~12)</td>
</tr>
<tr>
<td>%M</td>
<td>分钟(00~59)</td>
</tr>
<tr>
<td>%F</td>
<td>Year-Month-Day</td>
</tr>
<tr>
<td>hwclock -w / -s</td>
<td>以软件/硬件时间为基准, 覆盖硬件/软件时间</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># date</span></span><br><span class="line">  Thu Jul  5 22:44:59 EDT 2018  </span><br><span class="line">[root@xy ~]<span class="comment"># date &quot;+%Y-%M-%m-%d %H:%M:%S&quot;  </span></span><br><span class="line">  2018-45-07-05 22:45:56  </span><br><span class="line">[root@xy ~]<span class="comment"># date -s &quot;20180706 10:49:00&quot;   --set=STRING  </span></span><br><span class="line">  Fri Jul  6 10:49:00 EDT 2018  </span><br><span class="line">[root@xy ~]<span class="comment"># touch `date +%F`.log</span></span><br></pre></td></tr></table></figure>

<h5 id="CentOS-6-x-7-x"><a href="#CentOS-6-x-7-x" class="headerlink" title="CentOS 6.x  / 7.x"></a>CentOS 6.x  / 7.x</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># ntpd -p  # 时间同步  </span></span><br><span class="line">[root@xy ~]<span class="comment"># /etc/sysconfig/clock  # 修改时区  </span></span><br><span class="line">[root@xy ~]<span class="comment"># /etc/sysconfig/il8n  # 修改语言 </span></span><br><span class="line">---</span><br><span class="line">[root@xy ~]<span class="comment"># chronyc source  # 时间同步  </span></span><br><span class="line">[root@xy ~]<span class="comment"># timedatectl set-timezone Asia/Shanghai  # 修改时区  </span></span><br><span class="line">[root@xy ~]<span class="comment"># localectl set-locale LANG=zh_UTF-8  # 修改语言</span></span><br></pre></td></tr></table></figure>

<h4 id="7-4-wget"><a href="#7-4-wget" class="headerlink" title="7.4 wget"></a>7.4 wget</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-b</td>
<td>后台下载</td>
</tr>
<tr>
<td>-P</td>
<td>下载至指定目录</td>
</tr>
<tr>
<td>-O</td>
<td>指定目录并重命名</td>
</tr>
<tr>
<td>-c</td>
<td>断点续传</td>
</tr>
<tr>
<td>-p</td>
<td>下载页面搜有资源</td>
</tr>
<tr>
<td>-r</td>
<td>递归下载</td>
</tr>
<tr>
<td>-np</td>
<td>不追溯至父级</td>
</tr>
<tr>
<td>-k</td>
<td>make links in downloaded HTML point to local files</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># wget -r -p http://www.linuxprobe.com  </span></span><br><span class="line">[root@xy ~]<span class="comment"># wget -r -p -np -k http://www.linuxprobe.com</span></span><br></pre></td></tr></table></figure>

<h4 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-i, –include</td>
<td>响应头部信息,连同body</td>
</tr>
<tr>
<td>-I, –head</td>
<td>仅仅显示响应头部信息</td>
</tr>
<tr>
<td>-X, –request</td>
<td>指定请求方式</td>
</tr>
<tr>
<td>-v</td>
<td>显示响应结果</td>
</tr>
<tr>
<td>-u</td>
<td>携带用户名/密码</td>
</tr>
</tbody></table>
<h4 id="7-5-ps-pstree-p"><a href="#7-5-ps-pstree-p" class="headerlink" title="7.5 ps(pstree -p)"></a>7.5 ps(pstree -p)</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>显示所有终端下执行的进程sysV</td>
</tr>
<tr>
<td>-u</td>
<td>显示指定用户相关的进程信息sysV</td>
</tr>
<tr>
<td>-x</td>
<td>显示没有控制终端进程sysV</td>
</tr>
<tr>
<td>-e</td>
<td>显示所有进程</td>
</tr>
<tr>
<td>-f</td>
<td>额外显示UID PPID(父进程ID) C与STIME栏位</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># ps -aux  </span></span><br><span class="line">USER        PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND  </span><br><span class="line">root          1  0.8  0.3  53784  7716 ?        Ss   10:37   0:09 /usr/lib/  systetemd    </span><br><span class="line">root          2  0.0  0.0      0     0 ?        S    10:37   0:00 [kthreadd]  <span class="comment"># 内核线程    </span></span><br><span class="line">root          3  0.0  0.0      0     0 ?        S    10:37   0:00 [ksoftirqd/0]       </span><br><span class="line">root       3041  0.0  0.0 125440  1436 pts/0    R+   10:55   0:00 ps -aux   </span><br><span class="line">.......省略部分信息........ </span><br><span class="line"></span><br><span class="line">5种常见进程状态:R(运行) S(中断) D(不可中断) Z(僵死) T(停止)</span><br><span class="line"></span><br><span class="line">[root@xy ~]<span class="comment"># mpstat -P ALL; sar -P ALL # 查看多核CPU</span></span><br><span class="line">[root@xy ~]<span class="comment"># top     # 动态显示进程活动  </span></span><br><span class="line">  top - 11:00:06 up 23 min,  2 users,  load average: 0.96, 0.59, 0.53   <span class="comment"># 1min 5min 15min    </span></span><br><span class="line">  Tasks: 486 total,   1 running, 485 sleeping,   0 stopped,   0 zombie</span><br><span class="line">  %Cpu(s): 21.9 us, 11.8 sy,  0.0 ni, 66.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">  KiB Mem:   2035648 total,  1280152 used,   755496 free,     1084 buffers</span><br><span class="line">  KiB Swap:  2113532 total,        0 used,  2113532 free.   342864 cached Mem</span><br><span class="line">.......省略部分信息........  </span><br></pre></td></tr></table></figure>

<h4 id="7-7-pidof"><a href="#7-7-pidof" class="headerlink" title="7.7 pidof 　　　  "></a>7.7 pidof 　　　  <a id="pidof"></a></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># pidof sshd　　　# 查询PID值 ，pidof 服务名称 </span></span><br><span class="line">1552</span><br></pre></td></tr></table></figure>

<h4 id="7-8-kill-l"><a href="#7-8-kill-l" class="headerlink" title="7.8 kill -l  "></a>7.8 kill -l  <a id="kill"></a></h4><ul>
<li>进程间通信(IPC)：<code>共享内存；信号；Semaphore</code>；</li>
<li>信号：   <ul>
<li><code>1  SIGHUB</code>  (进程不用重启，可以重读配置文件并生效)  </li>
<li><code>2  SIGINT</code>  (Ctrl+c 中断)  </li>
<li><code>9  SIGKILL</code> (杀死进程)  </li>
<li><code>15 SIGTERM</code> (终止进程，默认) </li>
</ul>
</li>
</ul>
<h4 id="7-9-killall"><a href="#7-9-killall" class="headerlink" title="7.9 killall   "></a>7.9 killall   <a id="killall"></a></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># pidof httpd  # pid open file  </span></span><br><span class="line">13581 13580 13579 13578 13577 13576 </span><br><span class="line">[root@xy ~]<span class="comment"># killall httpd    	　# killall 服务名称  </span></span><br><span class="line">[root@xy ~]<span class="comment"># pidof httpd</span></span><br><span class="line">[root@xy ~]<span class="comment"># kill PID	　　        # kill PID号 </span></span><br></pre></td></tr></table></figure>

<h3 id="8-系统状态检测命令"><a href="#8-系统状态检测命令" class="headerlink" title="8. 系统状态检测命令"></a>8. 系统状态检测命令</h3><h4 id="8-1-ifconfig-ip"><a href="#8-1-ifconfig-ip" class="headerlink" title="8.1 ifconfig(ip)"></a>8.1 ifconfig(ip)</h4><blockquote>
<p>RedHat/CentOS: /etc/sysconfig/network-scripts<br>Debian/Ubuntu: /etc/network/interfaces    </p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;1&quot;</span>&gt; cat /proc/sys/net/ipv4/ip_forward  <span class="comment">#临时开启路由转发  </span></span><br><span class="line">/etc/sysctl.conf  <span class="comment">#net.ipv4.ip_forward = 0  #永久修改  sysctl -p</span></span><br><span class="line">[root@xy ~]<span class="comment"># ifconfig  </span></span><br><span class="line">eno16777736: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        ether 00:0c:29:11:26:05  txqueuelen 1000  (Ethernet)  </span><br><span class="line">        RX packets 496  bytes 46407 (45.3 KiB)  </span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0  </span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)  </span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0  </span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536  </span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0  </span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;  </span><br><span class="line">        loop  txqueuelen 0  (Local Loopback)  </span><br><span class="line">        RX packets 770  bytes 62348 (60.8 KiB)  </span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0  </span><br><span class="line">        TX packets 770  bytes 62348 (60.8 KiB)   </span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0    </span><br><span class="line">[root@xy ~]<span class="comment"># ifconfig eno16777736 IP       # 临时测试更改IP  </span></span><br><span class="line">[root@xy ~]<span class="comment"># yum install quagga -y    </span></span><br><span class="line">[root@xy ~]<span class="comment"># ifconfig eth0:1 192.168.10.131 netmask 255.255.255.0 up  # eth0:1 虚拟网络接口</span></span><br></pre></td></tr></table></figure>

<h4 id="8-2-uname"><a href="#8-2-uname" class="headerlink" title="8.2 uname"></a>8.2 uname</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># uname -a 　　　# 查看系统内核与版本信息    </span></span><br><span class="line">  Linux xy.com 3.10.0-123.el7.x86_64 <span class="comment">#1 SMP Mon May 5 11:16:57 EDT 2014 x86_64 x86_64 x86_64 GNU/Linux  </span></span><br><span class="line">[root@xy ~]<span class="comment"># cat /etc/redhat-release   　　　 # 系统版本详细信息文件路径  </span></span><br><span class="line">  Red Hat Enterprise Linux Server release 7.0 (Maipo)</span><br></pre></td></tr></table></figure>

<h4 id="8-3-uptime"><a href="#8-3-uptime" class="headerlink" title="8.3 uptime"></a>8.3 uptime</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># uptime　　　# 5min	 10min	15min	系统负载状况 </span></span><br><span class="line">  11:08:55 up 31 min,  2 users,  load average: 0.48, 0.42, 0.46    </span><br></pre></td></tr></table></figure>

<h4 id="8-4-free"><a href="#8-4-free" class="headerlink" title="8.4. free"></a>8.4. free</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># free -h       　　　# 内存使用情况    </span></span><br><span class="line">             total       used       free     shared    buffers     cached  </span><br><span class="line">Mem:          1.9G       1.2G       732M       9.8M       1.1M       335M  </span><br><span class="line">-/+ buffers/cache:       919M       1.0G  </span><br><span class="line">Swap:         2.0G         0B       2.0G  </span><br></pre></td></tr></table></figure>

<h4 id="8-5-who"><a href="#8-5-who" class="headerlink" title="8.5 who"></a>8.5 who</h4><blockquote>
<p>-r 显示当前运行级别<br>console pty(物理终端) tty(虚拟终端) ttyS(串行终端) pts(伪终端)   </p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># who      　　　　　# 当前登录主机用户信息</span></span><br><span class="line">xy       :0           2018-07-05 22:38 (:0)  </span><br><span class="line">xy       pts/0        2018-07-06 11:06 (:0)  </span><br></pre></td></tr></table></figure>

<h4 id="8-6-last-显示用户登录历史及系统重启历史"><a href="#8-6-last-显示用户登录历史及系统重启历史" class="headerlink" title="8.6 last: 显示用户登录历史及系统重启历史"></a>8.6 last: 显示用户登录历史及系统重启历史</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># last     　　　　 # /var/log/wtmp    </span></span><br><span class="line">xy       pts/0        :0               Fri Jul  6 11:06   still logged <span class="keyword">in</span>     </span><br><span class="line">xy       pts/0        :0               Thu Jul  5 22:41 - 11:06  (12:24)      </span><br><span class="line">xy       :0           :0               Thu Jul  5 22:38   still logged <span class="keyword">in</span>        </span><br><span class="line">reboot   system boot  3.10.0-123.el7.x Fri Jul  6 06:37 - 11:11  (04:33)  </span><br><span class="line">.......省略部分信息........   </span><br><span class="line"></span><br><span class="line">lastb -n      <span class="comment"># /var/log/btmp   # 显示错误的登录尝试信息  </span></span><br><span class="line">lastlog -u username           <span class="comment"># 显示每一个用户最近登录信息    </span></span><br></pre></td></tr></table></figure>

<h4 id="8-7-history"><a href="#8-7-history" class="headerlink" title="8.7 history"></a>8.7 history</h4><table>
<thead>
<tr>
<th>调用</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>!!</td>
<td>重复执行上一条</td>
</tr>
<tr>
<td>!n</td>
<td>重复执行第n条</td>
</tr>
<tr>
<td>!$</td>
<td>重复上一条命令的最后一个参数</td>
</tr>
<tr>
<td>!string</td>
<td>重复执行最后一条以该字串开头的</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># history      　　　      # 命令使用历史     </span></span><br><span class="line">[root@xy ~]<span class="comment"># history -c   		   　　 # clean    </span></span><br><span class="line">[root@xy ~]<span class="comment"># cat ~/.bash_history  </span></span><br><span class="line">  lsmod|grep i2c  </span><br><span class="line">  vim /etc/modprobe.d/blacklist.conf      </span><br><span class="line">  reboot  </span><br><span class="line">  lsmod|grep i2c  </span><br><span class="line">.......省略部分信息........  </span><br></pre></td></tr></table></figure>

<h4 id="8-8-sosreport"><a href="#8-8-sosreport" class="headerlink" title="8.8 sosreport"></a>8.8 sosreport</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># sosreport    </span></span><br><span class="line">    sosreport (version 3.0)    </span><br><span class="line">    This <span class="built_in">command</span> will collect diagnostic and configuration information from  </span><br><span class="line">    this Red Hat Enterprise Linux system and installed applications.  </span><br><span class="line">    Your sosreport has been generated and saved <span class="keyword">in</span>:  </span><br><span class="line">      /var/tmp/sosreport-xy.com-20180706113138.tar.xz</span><br></pre></td></tr></table></figure>

<h3 id="9-工作目录切换命令"><a href="#9-工作目录切换命令" class="headerlink" title="9. 工作目录切换命令"></a>9. 工作目录切换命令</h3><h4 id="9-1-pwd"><a href="#9-1-pwd" class="headerlink" title="9.1 pwd"></a>9.1 pwd</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># pwd          　　# 当前所处工作目录  </span></span><br><span class="line">/root</span><br></pre></td></tr></table></figure>

<h4 id="9-2-cd"><a href="#9-2-cd" class="headerlink" title="9.2 cd"></a>9.2 cd</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># cd /etc  </span></span><br><span class="line">[root@xy etc]<span class="comment"># cd -       　　# cd - 返回到上一次所处目录  </span></span><br><span class="line">/root  </span><br><span class="line">[root@xy ~]<span class="comment"># cd /etc  </span></span><br><span class="line">[root@xy etc]<span class="comment"># cd ~       　　# 进入当前用户的home目录  </span></span><br><span class="line">[root@xy ~]<span class="comment"># cd ..      　　  # cd .. 进入上级目录 </span></span><br><span class="line">[root@xy /]<span class="comment"># cd /etc  </span></span><br></pre></td></tr></table></figure>

<h4 id="9-3-ls"><a href="#9-3-ls" class="headerlink" title="9.3 ls"></a>9.3 ls</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>全部文件(包括隐藏文件)</td>
</tr>
<tr>
<td>-l</td>
<td>查看文件属性、大小等详细信息</td>
</tr>
<tr>
<td>-d</td>
<td>查看目录属性信息</td>
</tr>
<tr>
<td>-h,–human</td>
<td>–</td>
</tr>
<tr>
<td>-Z</td>
<td>查看安全上下文</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># ls -al   </span></span><br><span class="line">total 64  </span><br><span class="line">dr-xr-x---. 14 root root 4096 Jul  6 11:06 .   </span><br><span class="line">-rw-------.  1 root root  378 Jul  6 11:06 .bash_history  </span><br><span class="line"></span><br><span class="line">[root@xy ~]<span class="comment"># ls -ld /etc   </span></span><br><span class="line">drwxr-xr-x. 132 root root 8192 Jul  6 06:37 /etc</span><br></pre></td></tr></table></figure>

<h3 id="10-文本编辑命令"><a href="#10-文本编辑命令" class="headerlink" title="10. 文本编辑命令"></a>10. 文本编辑命令</h3><h4 id="10-1-cat"><a href="#10-1-cat" class="headerlink" title="10.1 cat"></a>10.1 cat</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>显示行号</td>
</tr>
<tr>
<td>-E</td>
<td>显示所有符号</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># cat -n initial-setup-ks.cfg     　　# 短篇文本查看 Number  </span></span><br><span class="line">  1  <span class="comment">#version=RHEL7  </span></span><br><span class="line">  2  <span class="comment"># X Window System configuration information  </span></span><br><span class="line">  3  xconfig  --startxonboot  </span><br></pre></td></tr></table></figure>

<h4 id="10-2-more"><a href="#10-2-more" class="headerlink" title="10.2 more"></a>10.2 more</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># more initial-setup-ks.cfg	#长篇文本查看 翻滚 空格键  </span></span><br><span class="line">  1  <span class="comment">#version=RHEL7  </span></span><br><span class="line">  2  <span class="comment"># X Window System configuration information  </span></span><br><span class="line">  3  xconfig  --startxonboot   </span><br></pre></td></tr></table></figure>

<h4 id="10-3-head"><a href="#10-3-head" class="headerlink" title="10.3 head"></a>10.3 head</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>显示文本前n行</td>
</tr>
<tr>
<td>-c</td>
<td>指定获取前n字符数</td>
</tr>
<tr>
<td>-2</td>
<td>指定查看前2行</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># head -n 5 initial-setup-ks.cfg       </span></span><br><span class="line">  1  <span class="comment">#version=RHEL7  </span></span><br><span class="line">  2  <span class="comment"># X Window System configuration information</span></span><br></pre></td></tr></table></figure>

<h4 id="10-4-tail-默认后10行"><a href="#10-4-tail-默认后10行" class="headerlink" title="10.4 tail(默认后10行)"></a>10.4 tail(默认后10行)</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>指定获取后n字符数</td>
</tr>
<tr>
<td>-n</td>
<td>指定获取后n行</td>
</tr>
<tr>
<td>-f</td>
<td>查看文件尾部等待显示后续新追加内容</td>
</tr>
<tr>
<td>-F</td>
<td>同-f, 删除跟踪后会提醒</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># tail -n 5 initial-setup-ks.cfg	  # tail -n 查看后10行  </span></span><br><span class="line">  @guest-agents  </span><br><span class="line">  @guest-desktop-agents     </span><br><span class="line"></span><br><span class="line">[root@xy ~]<span class="comment"># tail -f /var/log/messages			　# tail -f 动态显示log信息 </span></span><br><span class="line">  Jul  6 11:51:43 xy dbus[1068]: [system] Activating via systemd: service   name=<span class="string">&#x27;net.reactivated.Fprint&#x27;</span> unit=<span class="string">&#x27;fprintd.service&#x27;</span>  </span><br><span class="line">  Jul  6 11:51:43 xy systemd: Starting Fingerprint Authentication Daemon...</span><br></pre></td></tr></table></figure>

<h4 id="10-3-diff"><a href="#10-3-diff" class="headerlink" title="10.3 diff"></a>10.3 diff</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">[root@xy diff]<span class="comment"># cat diff_A.txt  </span></span><br><span class="line">  Welcom to RedHat 7  </span><br><span class="line">  RedHat certified  </span><br><span class="line">  Free Linux Lessons  </span><br><span class="line">  Professional guidance  </span><br><span class="line">  Linux Course  </span><br><span class="line">[root@xy diff]<span class="comment"># cat diff_B.txt  </span></span><br><span class="line">  Welcom tooo RedHat7  </span><br><span class="line"></span><br><span class="line">  RedHat certified  </span><br><span class="line">  Free Linux LessonS  </span><br><span class="line">  //////////...../////////  </span><br><span class="line">  Professional guidance  </span><br><span class="line">  Linux Course  </span><br><span class="line">[root@xy diff]<span class="comment"># diff --brief diff_A.txt diff_B.txt         　　# 比较文本差异  </span></span><br><span class="line">  Files diff_A.txt and diff_B.txt differ  </span><br><span class="line">[root@xy diff]<span class="comment"># diff -c -Naur diff_A.txt diff_B.txt &gt;patch.txt  </span></span><br><span class="line">  *** diff_A.txt	2018-07-06 12:06:35.889958037 -0400  </span><br><span class="line">  --- diff_B.txt	2018-07-06 12:10:58.818955667 -0400  </span><br><span class="line">  ***************  </span><br><span class="line">  *** 1,5 ***  </span><br><span class="line">  ! Welcom to RedHat 7  </span><br><span class="line">    RedHat certified  </span><br><span class="line">  ! Free Linux Lessons  </span><br><span class="line">    Professional guidance  </span><br><span class="line">    Linux Course  </span><br><span class="line">  --- 1,8 ----  </span><br><span class="line">  ! Welcom tooo RedHat7  </span><br><span class="line">  !   </span><br><span class="line">  !   </span><br><span class="line">    RedHat certified  </span><br><span class="line">  ! Free Linux LessonS  </span><br><span class="line">  ! //////////...../////////  </span><br><span class="line">    Professional guidance  </span><br><span class="line">    Linux Course</span><br></pre></td></tr></table></figure>

<h4 id="10-4-wc-统计指定文本的行数-字数-字节数-word-count"><a href="#10-4-wc-统计指定文本的行数-字数-字节数-word-count" class="headerlink" title="10.4 wc   统计指定文本的行数, 字数, 字节数 word count"></a>10.4 wc   <strong>统计指定文本的行数, 字数, 字节数 word count</strong></h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-l</td>
<td>只显示行数line</td>
</tr>
<tr>
<td>-w</td>
<td>只显示单词数word</td>
</tr>
<tr>
<td>-c</td>
<td>只显示字节数</td>
</tr>
<tr>
<td>-m</td>
<td>只统计数字字(节)符总数</td>
</tr>
<tr>
<td>-L</td>
<td>最长的行包含字符数</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># wc -l /etc/passwd </span></span><br><span class="line">  38 /etc/passwd  </span><br><span class="line">[root@xy ~]<span class="comment"># wc -w /etc/passwd  </span></span><br><span class="line">  66 /etc/passwd  </span><br><span class="line">[root@xy ~]<span class="comment"># wc -c /etc/passwd</span></span><br><span class="line">  1902 /etc/passwd</span><br></pre></td></tr></table></figure>

<h4 id="10-5-stat"><a href="#10-5-stat" class="headerlink" title="10.5 stat"></a>10.5 stat</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># stat anaconda-ks.cfg 	　　# 查看文件具体存储信息与时间  </span></span><br><span class="line">    File: ‘anaconda-ks.cfg’  </span><br><span class="line">    Size: 1071      	Blocks: 8          IO Block: 4096   regular file  </span><br><span class="line">  Device: fd00h/64768d	Inode: 68521005    Links: 1  </span><br><span class="line">  Access: (0600/-rw-------)  Uid: (    0/    root)   Gid: (    0/    root)  </span><br><span class="line">  Context: system_u:object_r:admin_home_t:s0  </span><br><span class="line">  Access: 2018-07-06 14:25:45.099882788 -0400  <span class="comment"># atime</span></span><br><span class="line">  Modify: 2018-07-06 05:36:00.000000000 -0400  <span class="comment"># mtime</span></span><br><span class="line">  Change: 2018-07-06 12:21:08.983950168 -0400  <span class="comment"># ctime</span></span><br><span class="line">  Birth: -</span><br></pre></td></tr></table></figure>

<h4 id="10-6-cut-提取列-字符串-不识别空格"><a href="#10-6-cut-提取列-字符串-不识别空格" class="headerlink" title="10.6 cut 提取列 字符串,不识别空格"></a>10.6 cut 提取列 字符串,不识别空格</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>分隔符,默认为Tab</td>
</tr>
<tr>
<td>-f,--filed</td>
<td>指定列数(1,3 1-3)</td>
</tr>
<tr>
<td>-c</td>
<td>按字符提取</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># head -n 2 /etc/passwd</span></span><br><span class="line">  root:x:0:0:root:/root:/bin/bash </span><br><span class="line">  bin:x:1:1:bin:/bin:/sbin/nologin  </span><br><span class="line">[root@xy ~]<span class="comment"># cut -d: -f1 /etc/passwd  # 按列提取文本字符</span></span><br><span class="line">  root   </span><br><span class="line">  ...    </span><br><span class="line">  sshd  </span><br><span class="line">  xy</span><br></pre></td></tr></table></figure>

<h4 id="10-7-tr-替换文本字符串"><a href="#10-7-tr-替换文本字符串" class="headerlink" title="10.7 tr　替换文本字符串"></a>10.7 tr　<strong>替换文本字符串</strong></h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-s</td>
<td>将重复出现字符串压缩为一个字符串替换</td>
</tr>
<tr>
<td>-d</td>
<td>删除出现在字符集中的所有字符</td>
</tr>
<tr>
<td>-c</td>
<td>反选</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># cat anaconda-ks.cfg | tr [a-z] [A-Z]  </span></span><br><span class="line">[root@xy ~]<span class="comment"># echo &#x27;xt.,l 1 jr#!$mn2 c*/fe3 uz4&#x27; |tr -dc [0-9]  # -d 删除 -c 取反  </span></span><br><span class="line">[root@xy ~]<span class="comment"># ifconfig eno16777736 |head -n2 |tail -n1 |tr -dc &#x27;[0-9]. &#x27; |tr -s &#x27; &#x27;|cut -d&quot; &quot; -f2 </span></span><br><span class="line">  192.168.137.10</span><br></pre></td></tr></table></figure>

<h4 id="sort-取列排序"><a href="#sort-取列排序" class="headerlink" title="sort(取列排序)"></a>sort(取列排序)</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>按数字排序</td>
</tr>
<tr>
<td>-r</td>
<td>倒序排序</td>
</tr>
<tr>
<td>-t</td>
<td>分隔符</td>
</tr>
<tr>
<td>-k,--key=POSL</td>
<td>指定某列进行排序(默认字符)</td>
</tr>
<tr>
<td>-u,--unique</td>
<td>重复内容只排一次</td>
</tr>
<tr>
<td>-f</td>
<td>忽略大小写</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># df |grep sd | tr -s &quot; &quot; &quot;%&quot; |cut -d% -f5 |sort -nr |head -n1</span></span><br></pre></td></tr></table></figure>

<h4 id="uniq-相邻相同的字符"><a href="#uniq-相邻相同的字符" class="headerlink" title="uniq(相邻相同的字符)"></a>uniq(相邻相同的字符)</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-c,–count</td>
<td>统计每行重复出现次数</td>
</tr>
<tr>
<td>-d,–repeated</td>
<td>统计重复过的行(交)</td>
</tr>
<tr>
<td>-u,–unique</td>
<td>显示不曾重复的行(并)</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># cut -d&quot; &quot; -f1 /var/log/httpd/access_log |sort |uniq -c |sort -nr # 统计客户端访问IP次数  </span></span><br><span class="line">[root@xy ~]<span class="comment"># cat f1 f2 | sort |uniq -d # 交集  </span></span><br><span class="line">[root@xy ~]<span class="comment"># grep -f f1 f2             # 交集  </span></span><br><span class="line"></span><br><span class="line">[root@xy ~]<span class="comment"># cat f1 f2| sort |uniq -u  # 不同</span></span><br><span class="line">[root@xy ~]<span class="comment"># cat f1 f2 |sort -u        # 并集</span></span><br></pre></td></tr></table></figure>

<h3 id="11-文件目录管理命令"><a href="#11-文件目录管理命令" class="headerlink" title="11. 文件目录管理命令"></a>11. 文件目录管理命令</h3><h4 id="11-1-touch"><a href="#11-1-touch" class="headerlink" title="11.1 touch"></a>11.1 touch</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>仅仅修改读取时间atime</td>
</tr>
<tr>
<td>-m</td>
<td>仅仅修改修改时间mtime</td>
</tr>
<tr>
<td>-d</td>
<td>都修改</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># ls -l anaconda-ks.cfg  </span></span><br><span class="line">  -rw-------. 1 root root 1024 Jul  6 05:36 anaconda-ks.cfg  </span><br><span class="line">[root@xy ~]<span class="comment"># echo &quot;Visit the LinuxProbe.com to learn linux skills&quot; &gt;&gt;anaconda-ks  </span></span><br><span class="line">[root@xy ~]<span class="comment"># ls -l anaconda-ks.cfg </span></span><br><span class="line">  -rw-------. 1 root root 1071 Jul  6 12:18 anaconda-ks.cfg  </span><br><span class="line">[root@xy ~]<span class="comment"># touch -d &quot;2018-07-06 05:36&quot; anaconda-ks.cfg   </span></span><br><span class="line">[root@xy ~]<span class="comment"># ls -l anaconda-ks.cfg   </span></span><br><span class="line">  -rw-------. 1 root root 1071 Jul  6 05:36 anaconda-ks.cfg</span><br></pre></td></tr></table></figure>

<h4 id="11-2-mkdir"><a href="#11-2-mkdir" class="headerlink" title="11.2 mkdir"></a>11.2 mkdir</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># cd /tmp </span></span><br><span class="line">[root@xy tmp]<span class="comment"># mkdir diff  </span></span><br><span class="line">[root@xy tmp]<span class="comment"># cd diff    </span></span><br><span class="line">[root@xy diff]<span class="comment"># mkdir -p a/b/c/d/e 　　　 # 递归创建目录  </span></span><br><span class="line">[root@xy ~] mkdir mkdir -p base/&#123;<span class="built_in">cd</span>,fd&#125;  <span class="comment"># 创建多个同级目录   </span></span><br><span class="line">[root@xy diff]<span class="comment"># cd a  </span></span><br><span class="line">[root@xy a]<span class="comment"># </span></span><br><span class="line">[root@xy ~]<span class="comment"># touch install.log  </span></span><br><span class="line">[root@xy ~]<span class="comment"># ls  </span></span><br><span class="line">  anaconda-ks.cfg  Documents  initial-setup-ks.cfg  Music     Public     Videos  </span><br><span class="line">  Desktop          Downloads  install.log           Pictures  Templates  </span><br><span class="line">[root@anyue <span class="built_in">test</span>]<span class="comment"># mkdir -pv /testdir/dir1/&#123;x,y&#125;/&#123;a,b&#125;</span></span><br><span class="line">  /testdir/</span><br><span class="line">  └── dir1</span><br><span class="line">      ├── x</span><br><span class="line">      │   ├── a</span><br><span class="line">      │   └── b</span><br><span class="line">      └── y</span><br><span class="line">          ├── a</span><br><span class="line">          └── b</span><br><span class="line">[root@anyue <span class="built_in">test</span>]<span class="comment"># mkdir -pv ./testdir/dir2/&#123;x/&#123;a,b&#125;,y&#125;</span></span><br><span class="line">  ./testdir/dir2/</span><br><span class="line">  ├── x</span><br><span class="line">  │   ├── a</span><br><span class="line">  │   └── b</span><br><span class="line">  └── y</span><br><span class="line">[root@anyue <span class="built_in">test</span>]<span class="comment"># mkdir -pv ./testdir/dir&#123;3,4,5/dir&#123;6,7&#125;&#125;</span></span><br><span class="line">  mkdir: created directory ‘./testdir/dir3’  </span><br><span class="line">  mkdir: created directory ‘./testdir/dir4’  </span><br><span class="line">  mkdir: created directory ‘./testdir/dir5’  </span><br><span class="line">  mkdir: created directory ‘./testdir/dir5/dir6’  </span><br><span class="line">  mkdir: created directory ‘./testdir/dir5/dir7’  </span><br><span class="line">[root@anyue <span class="built_in">test</span>]<span class="comment"># tree ./testdir/ </span></span><br><span class="line">    </span><br><span class="line">    ./testdir/</span><br><span class="line">    ├── dir3</span><br><span class="line">    ├── dir4</span><br><span class="line">    └── dir5</span><br><span class="line">        ├── dir6</span><br><span class="line">        └── dir7</span><br></pre></td></tr></table></figure>

<h4 id="11-3-cp-a-r-v"><a href="#11-3-cp-a-r-v" class="headerlink" title="11.3 cp  (-a -r -v)"></a>11.3 cp  (-a -r -v)</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>复制目录时使用,保留链接/文件属性/并复制目录下的所有内容,等于dpR参数组合</td>
</tr>
<tr>
<td>-r</td>
<td>复制该目录下所有的子目录和文件</td>
</tr>
<tr>
<td>-v</td>
<td>显示过程</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># cp -a install.log x.log  </span></span><br><span class="line">[root@xy ~]<span class="comment"># ls</span></span><br><span class="line">  anaconda-ks.cfg  Documents  initial-setup-ks.cfg  Music     Public     Videos  </span><br><span class="line">  Desktop          Downloads  install.log           Pictures  Templates  x.log</span><br></pre></td></tr></table></figure>

<h4 id="11-4-mv"><a href="#11-4-mv" class="headerlink" title="11.4 mv"></a>11.4 mv</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># mv install.log linux.log </span></span><br><span class="line">[root@xy ~]<span class="comment"># ls  </span></span><br><span class="line">  anaconda-ks.cfg  Documents  initial-setup-ks.cfg  Music     Public     Videos  </span><br><span class="line">  Desktop          Downloads  linux.log            Pictures  Templates  </span><br></pre></td></tr></table></figure>

<h4 id="11-5-rm"><a href="#11-5-rm" class="headerlink" title="11.5 rm"></a>11.5 rm</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># rm linux.log</span></span><br><span class="line">  rm: remove regular empty file ‘diff’? y  </span><br><span class="line">[root@xy ~]<span class="comment"># rm -f linux.log              # -f,强制删除文件或目录</span></span><br><span class="line">  anaconda-ks.cfg  Documents  initial-setup-ks.cfg  Music     Public     Videos  </span><br><span class="line">  Desktop          Downloads  Pictures              Templates  </span><br><span class="line">[root@xy ~]<span class="comment"># mkdir diff  </span></span><br><span class="line">[root@xy ~]<span class="comment"># cd diff  </span></span><br><span class="line">[root@xy diff]<span class="comment"># cd -</span></span><br><span class="line">  /root  </span><br><span class="line">[root@xy ~]<span class="comment"># rm -rf diff  # -r,递归处理，将指定目录下的所有文件与子目录一并处理</span></span><br><span class="line">[root@xy ~]<span class="comment"># ls  </span></span><br><span class="line">  anaconda-ks.cfg  Documents  initial-setup-ks.cfg  Pictures  Templates  </span><br><span class="line">  Desktop          Downloads  Music                 Public    Video</span><br></pre></td></tr></table></figure>

<h4 id="11-6-dd-按照指定大小和个数的数据块复制文件或转换文件"><a href="#11-6-dd-按照指定大小和个数的数据块复制文件或转换文件" class="headerlink" title="11.6 dd   按照指定大小和个数的数据块复制文件或转换文件"></a>11.6 dd   按照指定大小和个数的数据块复制文件或转换文件</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>if</td>
<td>输入文件名称</td>
</tr>
<tr>
<td>of</td>
<td>输出文件名称</td>
</tr>
<tr>
<td>bs</td>
<td>设置块大小</td>
</tr>
<tr>
<td>count</td>
<td>设置复制块的个数</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># dd if=/dev/zero of=10_file bs=10M count=1</span></span><br><span class="line">[root@xy ~]<span class="comment"># dd if=/dev/cdrom of=RHEL-server-7.0-x86_64.iso  </span></span><br><span class="line">[root@xy ~]<span class="comment"># file anaconda-ks.cfg  </span></span><br><span class="line">  anaconda-ks.cfg: ASCII text</span><br></pre></td></tr></table></figure>

<h4 id="11-7-file"><a href="#11-7-file" class="headerlink" title="11.7 file"></a>11.7 file</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># file /dev/sda  </span></span><br><span class="line">  /dev/sda: block special </span><br></pre></td></tr></table></figure>

<h3 id="12-打包压缩与搜索命令"><a href="#12-打包压缩与搜索命令" class="headerlink" title="12. 打包压缩与搜索命令  "></a>12. 打包压缩与搜索命令  <a id="tar"></a></h3><h4 id="12-1-tar"><a href="#12-1-tar" class="headerlink" title="12.1 tar"></a>12.1 tar</h4><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/lhm166/articles/6604852.html">tar相关命令参考1</a></p>
<table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>创建压缩文档</td>
</tr>
<tr>
<td>-x</td>
<td>解开压缩文档</td>
</tr>
<tr>
<td>-t</td>
<td>查看压缩包内容</td>
</tr>
<tr>
<td>-z</td>
<td>用Gzip压缩/解压, *.tar.gz</td>
</tr>
<tr>
<td>-j</td>
<td>用bzip2压缩/解压, *.tar.bz2</td>
</tr>
<tr>
<td>-J</td>
<td>用xz压缩或解压</td>
</tr>
<tr>
<td>-v</td>
<td>显示压缩/解压过程</td>
</tr>
<tr>
<td>-f</td>
<td>目标文件名</td>
</tr>
<tr>
<td>-p</td>
<td>保留原文件的权限属性</td>
</tr>
<tr>
<td>-P</td>
<td>使用绝对路径来压缩</td>
</tr>
<tr>
<td>-C</td>
<td>指定目录</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@xy tmp]<span class="comment"># tar -czvf diff.tar.gz /diff     </span></span><br><span class="line">  diff/  </span><br><span class="line">  diff/diff_A.txt  </span><br><span class="line">  diff/diff_B.txt  </span><br><span class="line">  diff/diff_B.txt~  </span><br><span class="line">  diff/diff.tar.gz  </span><br><span class="line">[root@xy diff]<span class="comment"># tar -xzvf diff.tar.gz -C /diff    # 指定解压目录 -C   </span></span><br><span class="line">[root@xy diff]<span class="comment"># tar -g /data/backup/snapshot -czvf /data/backup/2017.tar.gz *  # -g 增量备份  </span></span><br><span class="line">[root@xy diff]<span class="comment"># tar -g /data/backup/snapshot -czvf /data/backup/2017-1.tar.gz *</span></span><br></pre></td></tr></table></figure>

<h4 id="12-2-grep-提取行-字符串搜索常用"><a href="#12-2-grep-提取行-字符串搜索常用" class="headerlink" title="12.2 grep   # 提取行  字符串搜索常用"></a>12.2 grep   # 提取行  字符串搜索常用</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>显示行号</td>
</tr>
<tr>
<td>-i</td>
<td>忽略大小写</td>
</tr>
<tr>
<td>-v</td>
<td>反向选择，仅列出没有关键词的行</td>
</tr>
<tr>
<td>-c</td>
<td>仅显示找到的行数</td>
</tr>
<tr>
<td>-E</td>
<td>支持扩展正则</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># grep -n /sbin/nologin /etc/passwd</span></span><br><span class="line">  1:bin:x:1:1:bin:/bin:/sbin/nologin  </span><br><span class="line">  2:daemon:x:2:2:daemon:/sbin:/sbin/nologin  </span><br><span class="line">  3:adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br></pre></td></tr></table></figure>

<h4 id="12-3-find-文件搜索-实用"><a href="#12-3-find-文件搜索-实用" class="headerlink" title="12.3 find   # 文件搜索 实用"></a>12.3 find   # 文件搜索 实用</h4><img src="/posts/4ac0a166/find.jpg" class title="[find时间轴]">

<table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-name</td>
<td>匹配名称</td>
</tr>
<tr>
<td>-perm</td>
<td>匹配权限</td>
</tr>
<tr>
<td>-user</td>
<td>匹配所有者</td>
</tr>
<tr>
<td>-group</td>
<td>匹配所有组</td>
</tr>
<tr>
<td>-mtime -n +n</td>
<td>匹配修改内容的时间</td>
</tr>
<tr>
<td>-atime -n +n</td>
<td>匹配访问文件的时间</td>
</tr>
<tr>
<td>-nouser  -nogroup</td>
<td>匹配没有所有者/所有组</td>
</tr>
<tr>
<td>-inum n</td>
<td>匹配节点编号</td>
</tr>
<tr>
<td>-maxdepth / -mindepth level</td>
<td>定义搜索深度</td>
</tr>
<tr>
<td>-exec 后续命令 {} dst ;</td>
<td>后可跟进 执行的命令</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># find /etc/ -name &quot;host*&quot; -print</span></span><br><span class="line">  /etc/avahi/hosts  </span><br><span class="line">  /etc/host.conf  </span><br><span class="line">  /etc/hosts  </span><br><span class="line">  /etc/hosts.allow  </span><br><span class="line">  /etc/hosts.deny  </span><br><span class="line">  /etc/selinux/targeted/modules/active/modules/hostname.pp  </span><br><span class="line">  /etc/hostname  </span><br><span class="line">[root@xy ~]<span class="comment"># find / -perm -4000 -print    # -perm 匹配权限     </span></span><br><span class="line">  /usr/bin/fusermount  </span><br><span class="line">  /usr/bin/su  </span><br><span class="line">  /usr/bin/chage  </span><br><span class="line">  /usr/bin/gpasswd  </span><br><span class="line">  /usr/bin/newgrp  </span><br><span class="line">[root@xy ~]<span class="comment"># find /tmp \(-not -user root -a -not -name &#x27;f*&#x27;\) -ls # 属主非root且不以f开头的文件  </span></span><br><span class="line">[root@xy ~]<span class="comment"># find /etc \(-path &quot;/etc/sane.d&quot; -o -path &quot;/etc/fonts&quot;\) -a -prune -o -name &quot;*.conf&quot;   # 查找etc下除了/etc/sane.d /etc/fonts 目录的所有.conf后缀的文件  </span></span><br><span class="line"></span><br><span class="line">[root@xy ~]<span class="comment"># find / -user xy -exec cp -a &#123;&#125; /root/findresults/ \;    </span></span><br><span class="line">[root@xy ~]<span class="comment"># find linux-4.18.13/ -name &quot;*.c&quot; -exec cat &#123;&#125; \; |grep -v &quot;^$&quot; |wc -l</span></span><br></pre></td></tr></table></figure>

<h3 id="13-重定向操作符"><a href="#13-重定向操作符" class="headerlink" title="13. 重定向操作符 "></a>13. 重定向操作符 <a id="director"></a></h3><blockquote>
<p><code>标准输入重定向</code>（STDIN, 文件描述符为 0）<br><code>标准输出重定向</code>（STDOUT, 文件描述符为 1）<br><code>错误输出重定向</code>（STDERR, 文件描述符为 2）   </p>
</blockquote>
<ul>
<li><p>输入重定向 O-I  </p>
<ul>
<li>命令 &lt;  文件              </li>
<li>命令 &lt;&lt; 分界符        <strong>遇见分界符为止</strong>  </li>
<li>命令 &lt; 文件1 &gt; 文件2  <strong>将文件1作为命令的标准输入并将标准输出到文件2</strong>  </li>
</ul>
</li>
<li><p>输出重定向 I-O</p>
<ul>
<li>命令 &gt;   文件         <strong>清空原有文件</strong>  </li>
<li>命令 2&gt;  文件         </li>
<li>命令 &gt;&gt;  文件         <strong>追加到原有文件内容的后面</strong>  </li>
<li>命令 2&gt;&gt; 文件</li>
<li>命令 &gt;&gt;  文件 2&gt;&amp;1    <strong>将标准输出与错误输出共同写到文件</strong>     </li>
<li>命令 &amp;&gt;&gt; 文件   </li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># man bash &gt; readme.txt  </span></span><br><span class="line">[root@xy ~]<span class="comment"># echo &quot;Welcome to Linuxprobe.Com&quot; &gt; readme.txt  </span></span><br><span class="line">[root@xy ~]<span class="comment"># echo &quot;Quality linux learning materials&quot; &gt;&gt; readme.txt   </span></span><br><span class="line">[root@xy ~]<span class="comment"># cat readme.txt</span></span><br><span class="line">  Welcome to anyue967.Com  </span><br><span class="line">  Quality linux learning materials </span><br><span class="line"> </span><br><span class="line">[root@xy ~]<span class="comment"># ls -l xxxxxxx &gt; readme.txt </span></span><br><span class="line">  ls: cannot access xxxxxxx: No such file or directory  </span><br><span class="line">[root@xy ~]<span class="comment"># ls -l  xxxxxxx 2&gt; readme.txt #2的用法      </span></span><br><span class="line">[root@xy ~]<span class="comment"># cat readme.txt</span></span><br><span class="line">  ls: cannot access xxxxxxx: No such file or directory  </span><br><span class="line">[root@xy ~]<span class="comment"># wc -l &lt; readme.txt  </span></span><br><span class="line">  1      </span><br><span class="line">[root@xy ~]<span class="comment"># cat readme.txt | wc -l    </span></span><br><span class="line">  1</span><br><span class="line"></span><br><span class="line">cat &gt;&gt;README.txt &lt;&lt;EOF</span><br><span class="line">...</span><br><span class="line">EOF </span><br><span class="line"></span><br><span class="line">ls /data /noexist 2&gt;/root/out.log 1&gt;&amp;2</span><br><span class="line">ls /data/ /noexist &gt;/root/out.log 2&gt;&amp;1</span><br><span class="line">ls /data/ /noexist &amp;&gt;/root/out.log</span><br><span class="line"><span class="comment">#小测试</span></span><br><span class="line">    A.cmd &amp;&gt;/dev/null</span><br><span class="line">    B.cmd &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">    C.cmd 2&gt;&amp;1 &gt;/dev/null  ✔ <span class="comment">#屏幕显示错误信息,标准输出至/dev/null</span></span><br><span class="line">    D.cmd 2&gt;/dev/null 1&gt;&amp;2</span><br></pre></td></tr></table></figure>

<h3 id="14-管道符"><a href="#14-管道符" class="headerlink" title="14. 管道符 |"></a>14. 管道符 |</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># grep &quot;/sbin/nologin&quot; /etc/passwd |wc -l  </span></span><br><span class="line">  33  </span><br><span class="line">[root@xy ~]<span class="comment"># ls -l /etc/ |more</span></span><br><span class="line">  total 1396  </span><br><span class="line">  drwxr-xr-x.  3 root root       97 Jul  6 05:01 abrt  </span><br><span class="line">  -rw-r--r--.  1 root root       16 Jul  6 05:33 adjtime  </span><br><span class="line">  -rw-r--r--.  1 root root     1518 Jun  7  2013 aliases  </span><br><span class="line">  .......省略部分输出内容.......  </span><br><span class="line">[root@xy ~]<span class="comment"># echo &quot;19937100xy&quot; |passwd --stdin root  	  </span></span><br><span class="line">  Changing password <span class="keyword">for</span> user root.  </span><br><span class="line">  passwd: all authentication tokens updated successfully.  </span><br><span class="line">[root@xy ~]<span class="comment"># who |tee -a /test/who.log  # tee 命令</span></span><br></pre></td></tr></table></figure>

<h3 id="15-命令行的通配符"><a href="#15-命令行的通配符" class="headerlink" title="15. 命令行的通配符  *  []  ?"></a>15. 命令行的通配符  *  []  ?</h3><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>任意长度的任意字符</td>
</tr>
<tr>
<td>?</td>
<td>任意单个字符</td>
</tr>
<tr>
<td>[0-9]</td>
<td>匹配0~9之间的单个数字的字符</td>
</tr>
<tr>
<td>[abc]</td>
<td>匹配a、b、c三个字符中个任意一个</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># touch &#123;a..z&#125;.txt </span></span><br><span class="line">[root@xy ~]<span class="comment"># ls -l /dev/sda*  </span></span><br><span class="line">  brw-rw----. 1 root disk 8, 0 Jul  6  2018 /dev/sda  </span><br><span class="line">  brw-rw----. 1 root disk 8, 1 Jul  6  2018 /dev/sda1  </span><br><span class="line">  brw-rw----. 1 root disk 8, 2 Jul  6  2018 /dev/sda2  </span><br><span class="line">[root@xy ~]<span class="comment"># ls -l /dev/sda?  </span></span><br><span class="line">  brw-rw----. 1 root disk 8, 1 Jul  6  2018 /dev/sda1  </span><br><span class="line">  brw-rw----. 1 root disk 8, 2 Jul  6  2018 /dev/sda2  </span><br><span class="line">[root@xy ~]<span class="comment"># ls -l /dev/sda[0-9]  </span></span><br><span class="line">  brw-rw----. 1 root disk 8, 1 Jul  6  2018 /dev/sda1  </span><br><span class="line">  brw-rw----. 1 root disk 8, 2 Jul  6  2018 /dev/sda2</span><br></pre></td></tr></table></figure>

<h3 id="16-常用的转义字符"><a href="#16-常用的转义字符" class="headerlink" title="16. 常用的转义字符"></a>16. 常用的转义字符</h3><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>\</td>
<td>使反斜杠后的一个变量变为单纯的字符串</td>
</tr>
<tr>
<td>‘’</td>
<td>转义其中所有的变量为单纯的字符串</td>
</tr>
<tr>
<td>“”</td>
<td>保留其中的变量属性,不进行转义处理</td>
</tr>
<tr>
<td>``</td>
<td>命令执行后并返回结果</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># PRICE=5</span></span><br><span class="line">[root@xy ~]<span class="comment"># echo &quot;Price is $PRICE&quot;        　　# $ 取变量的值</span></span><br><span class="line">  Price is 5  </span><br><span class="line">[root@xy ~]<span class="comment"># echo &quot;Price is $$PRICE&quot;  </span></span><br><span class="line">  Price is 7982PRICE  </span><br><span class="line">[root@xy ~]<span class="comment"># echo &quot;Price is \$$PRICE&quot; </span></span><br><span class="line">  Price is <span class="variable">$5</span>  </span><br><span class="line">[root@xy ~]<span class="comment"># echo `uname -a` 　　              # 执行命令返回结果</span></span><br><span class="line">  Linux xy.com 3.10.0-123.el7.x86_64 <span class="comment">#1 SMP Mon May 5 11:16:57 EDT 2014 x86_64 x86_64 x86_64 GNU/Linux</span></span><br></pre></td></tr></table></figure>

<h3 id="17-重要的环境变量"><a href="#17-重要的环境变量" class="headerlink" title="17. 重要的环境变量"></a>17. 重要的环境变量</h3><table>
<thead>
<tr>
<th>系统变量</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>HOME</td>
<td>—</td>
</tr>
<tr>
<td>SHELL</td>
<td>—</td>
</tr>
<tr>
<td>HISTSIZE</td>
<td>—</td>
</tr>
<tr>
<td>HISTFILESIZE</td>
<td>—</td>
</tr>
<tr>
<td>MAILL</td>
<td>—</td>
</tr>
<tr>
<td>LANG</td>
<td>—</td>
</tr>
<tr>
<td>RANDOM</td>
<td>—</td>
</tr>
<tr>
<td>PS1</td>
<td>—</td>
</tr>
<tr>
<td>PATH</td>
<td>—</td>
</tr>
<tr>
<td>EDITOR</td>
<td>—</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># touch xy.txt</span></span><br><span class="line">[root@xy ~]<span class="comment"># ls  </span></span><br><span class="line">  anaconda-ks.cfg  Documents  initial-setup-ks.cfg  Pictures  readme.txt  Videos  </span><br><span class="line">  Desktop          Downloads  Music                 Public    Templates   xy.txt  </span><br><span class="line">[root@xy ~]<span class="comment"># rm xy.txt  </span></span><br><span class="line">  rm: remove regular empty file ‘xy.txt’?  y  </span><br><span class="line">[root@xy ~]<span class="comment"># alias rm          　　#alias 的用法  </span></span><br><span class="line">  <span class="built_in">alias</span> rm=<span class="string">&#x27;rm -i&#x27;</span>                 <span class="comment">#inter  </span></span><br><span class="line">[root@xy ~]<span class="comment"># unalias rm          　#unalias 的用法  </span></span><br><span class="line">[root@xy ~]<span class="comment"># rm xy.txt</span></span><br><span class="line">[root@xy ~]<span class="comment"># alias rm=&#x27;mv -t /data&#x27;   #-t -target-directory</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># export # 变量名, 提升变量为全局变量   </span></span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># type -a true   #type 命令名称 内部还是外部   </span></span><br><span class="line">  <span class="literal">true</span> is a shell <span class="built_in">builtin</span>  </span><br><span class="line">  <span class="literal">true</span> is /bin/<span class="literal">true</span>  </span><br><span class="line">  <span class="literal">true</span> is /usr/bin/<span class="literal">true</span>  </span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># type true  </span></span><br><span class="line">  <span class="literal">true</span> is a shell <span class="built_in">builtin</span>  </span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># env			   #env  查看所有的环境变量  </span></span><br><span class="line">[root@xy ~]<span class="comment"># echo $PATH  </span></span><br><span class="line">/usr/<span class="built_in">local</span>/bin:/usr/<span class="built_in">local</span>/sbin:/usr/bin:/usr/sbin:/bin:/sbin   </span><br><span class="line">[root@xy ~]<span class="comment"># PATH=$PATH:/root/bin      #增加PATH   </span></span><br><span class="line">[root@xy ~]<span class="comment"># echo $PATH</span></span><br><span class="line">/usr/<span class="built_in">local</span>/bin:/usr/<span class="built_in">local</span>/sbin:/usr/bin:/usr/sbin:/bin:/sbin:　<span class="comment"># /root/bin</span></span><br></pre></td></tr></table></figure>

<h3 id="19-配置主机名"><a href="#19-配置主机名" class="headerlink" title="19. 配置主机名"></a>19. 配置主机名</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># vim /etc/hostname  </span></span><br><span class="line">  xy.com  </span><br><span class="line">[root@xy ~]<span class="comment"># hostname</span></span><br><span class="line">  xy.com</span><br></pre></td></tr></table></figure>

<h3 id="20-配置网卡信息"><a href="#20-配置网卡信息" class="headerlink" title="20. 配置网卡信息"></a>20. 配置网卡信息</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># cd /etc/sysconfig/network-scripts/  </span></span><br><span class="line">[root@xy network-scripts]<span class="comment"># ls </span></span><br><span class="line">  ifcfg-eno16777736  　ifdown-ppp      　ifup-eth     ifup-sit    </span><br><span class="line">  ifcfg-lo             ifdown-routes    ifup-ippp    ifup-Team  </span><br><span class="line">  ifdown               ifdown-sit       ifup-ipv6    ifup-TeamPort  </span><br><span class="line">  ifdown-bnep          ifdown-Team      ifup-isdn    ifup-tunnel   </span><br><span class="line">[root@xy network-scripts]<span class="comment"># vim  ifcfg-eno16777736  　# RHEL5，6 ifcfg-eth  </span></span><br><span class="line">  TYPE=Ethernet  </span><br><span class="line">  BOOTPROTO=static  </span><br><span class="line">  NAME=eno16777736  </span><br><span class="line">  ONBOOT=yes  </span><br><span class="line">  HWADDR=00:0C:29:11:26:05  </span><br><span class="line">  IPADDR0=192.168.37.10  </span><br><span class="line">  PREFIX0=24  </span><br><span class="line">  GATEWAY0=192.168.37.1  </span><br><span class="line">  DNS1=192.168.37.1  </span><br><span class="line">[root@xy network-scripts]<span class="comment"># systemctl restart network </span></span><br><span class="line">[root@xy network-scripts]<span class="comment"># ping 192.168.37.10 </span></span><br><span class="line">[root@xy ~]<span class="comment"># dmesg |grep -i eno	# 查看网卡模块  </span></span><br><span class="line">[root@xy ~]<span class="comment"># modprobe -r e1000	# 卸载网卡模块  </span></span><br><span class="line">[root@xy ~]<span class="comment"># modprobe e1000	# 装载网卡模块</span></span><br></pre></td></tr></table></figure>

<h3 id="21-配置Yum软件仓库"><a href="#21-配置Yum软件仓库" class="headerlink" title="21. 配置Yum软件仓库  "></a>21. 配置Yum软件仓库  <a id="yumku"></a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ]<span class="comment"># vim /etc/yum.repos.d/rhel7.repo # 创建本地yum源 </span></span><br><span class="line">  [rhel-media]  </span><br><span class="line">  name=xy  </span><br><span class="line">  baseurl=file:///media/cdrom	file:ftp://		file:http://	file:///  </span><br><span class="line">  enabled=1   　<span class="comment"># 启用         </span></span><br><span class="line">  gpgcheck=1  </span><br><span class="line">  gpgkey=file:///media/cdrom/RPM-GPG-KEY-redhat-release  </span><br><span class="line"></span><br><span class="line">[root@xy yum.repos.d]<span class="comment"># mkdir -p /media/cdrom  </span></span><br><span class="line">[root@xy yum.repos.d]<span class="comment"># mount /dev/cdrom /media/cdrom   　# mount 设备 挂载目录 </span></span><br><span class="line">  mount: /dev/sr0 is write-protected,mounting <span class="built_in">read</span>-only  </span><br><span class="line"></span><br><span class="line">[root@xy yum.repos.d]<span class="comment"># vim /etc/fstab   </span></span><br><span class="line">  /dev/cdrom /media/cdrom iso9660 default 0 0   <span class="comment"># fstab 文件写法</span></span><br><span class="line">[root@xy yum.repos.d]<span class="comment"># yum install httpd  		　# 测试  </span></span><br><span class="line">  Dependencies Resolved  </span><br><span class="line">  ........省略部分信息........  </span><br><span class="line">  Install  1 Package (+4 Dependent packages)  </span><br><span class="line">  ........省略部分信息........  </span><br><span class="line">  Is this ok [y/d/N]: y          </span><br><span class="line">  ........省略部分信息........ </span><br><span class="line">  Complete!</span><br></pre></td></tr></table></figure>

<h3 id="22-编写简单的shell脚本"><a href="#22-编写简单的shell脚本" class="headerlink" title="22. 编写简单的shell脚本    "></a>22. 编写简单的shell脚本    <a id="shell"></a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 执行成功返回值：0，否则返回值为非 0 数字</span></span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># vim example.sh    # bash -n file.sh 检测语法错误</span></span><br><span class="line">  <span class="comment">#!/bin/bash  </span></span><br><span class="line">  <span class="comment">#For Example BY xy.com  </span></span><br><span class="line">  <span class="built_in">pwd</span>  </span><br><span class="line">  ls -al  </span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># bash example.sh  </span></span><br><span class="line">  /root/<span class="built_in">test</span>  </span><br><span class="line">  total 8  </span><br><span class="line">  drwxr-xr-x.  2 root root   23 Jul  7 18:29 .  </span><br><span class="line">  dr-xr-x---. 15 root root 4096 Jul  7 18:29 ..  </span><br><span class="line">  -rw-r--r--.  1 root root   46 Jul  7 18:29 example.sh  </span><br><span class="line">[root@xy ShellExample]<span class="comment"># ./example01.sh</span></span><br><span class="line">  -bash: ./example01.sh: Permission denied  </span><br><span class="line">[root@xy ShellExample]<span class="comment"># chmod u+x example01.sh</span></span><br></pre></td></tr></table></figure>

<h3 id="23-接收用户的参数"><a href="#23-接收用户的参数" class="headerlink" title="23. 接收用户的参数"></a>23. 接收用户的参数</h3><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>$0</td>
<td>对应当前Shell脚本名称</td>
</tr>
<tr>
<td>$#</td>
<td>对应总共有几个参数</td>
</tr>
<tr>
<td>$*</td>
<td>对应所有位置参数值</td>
</tr>
<tr>
<td>$?</td>
<td>对应显示上一次命令的执行返回值</td>
</tr>
<tr>
<td>$1 /$2 /$3</td>
<td>对应第N个位置的参数值</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># vim example02.sh </span></span><br><span class="line">  <span class="comment">#!/bin/bash  </span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;当前脚本名称为<span class="variable">$0</span>&quot;</span>		<span class="comment"># $0 当前Shell脚本名称 </span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;总共有<span class="variable">$#</span>个参数,分别是$*.&quot;</span>	<span class="comment"># $# 参数个数	</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;第一个参数为<span class="variable">$1</span>,第五个参数为<span class="variable">$5</span>.&quot;</span>	<span class="comment"># $ 所以位置的参数值  </span></span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># sh example02.sh one two three four five six  </span></span><br><span class="line">  当前脚本名称为example02.sh  </span><br><span class="line">  总共有6个参数,分别是one two three four five six.</span><br><span class="line">  第一个参数为one,第五个参数为five.</span><br></pre></td></tr></table></figure>

<h3 id="24-判断用户的参数"><a href="#24-判断用户的参数" class="headerlink" title="24. 判断用户的参数"></a>24. 判断用户的参数</h3><h4 id="24-1-文件"><a href="#24-1-文件" class="headerlink" title="24.1 文件"></a>24.1 文件</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>测试文件是否为目录类型</td>
</tr>
<tr>
<td>-e</td>
<td>测试文件是否存在</td>
</tr>
<tr>
<td>-f</td>
<td>判断文件是否为一般文件</td>
</tr>
<tr>
<td>-r</td>
<td>测试当前用户是否有读权限</td>
</tr>
<tr>
<td>-w</td>
<td>当前用户是否有写权限</td>
</tr>
<tr>
<td>-x</td>
<td>当前用户是否有执行权限</td>
</tr>
<tr>
<td>$?</td>
<td>显示上一次命令的执行返回值</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># [ -d /etc/fstab ]	# 测试文件是否为目录类型</span></span><br><span class="line">[root@xy ~]<span class="comment"># echo $?</span></span><br><span class="line">  1        				</span><br><span class="line">[root@xy ~]<span class="comment"># [ -f /etc/fstab ]	# 判断是否为一般文件    </span></span><br><span class="line">[root@xy ~]<span class="comment"># echo $?   </span></span><br><span class="line">  0        </span><br><span class="line">[root@xy ~]<span class="comment"># [ -e /dev/cdrom ] &amp;&amp; echo &quot;Exist&quot;	# 当前面执行成功则执行后面，整个表达式返回值 为 0 </span></span><br><span class="line">  Exist    </span><br><span class="line">[root@xy ~]<span class="comment"># su - xy    </span></span><br><span class="line">[xy@xy ~]$ [ <span class="variable">$USER</span> = root ] || <span class="built_in">echo</span> <span class="string">&quot;user&quot;</span>	<span class="comment"># 当前执行失败则执行后面  </span></span><br><span class="line">user  </span><br><span class="line">[xy@xy ~]$ <span class="built_in">exit</span> </span><br><span class="line">  <span class="built_in">logout</span>  </span><br><span class="line">[root@xy ~]<span class="comment"># [ ! $USER = root ] || echo &quot;administrator&quot;</span></span><br><span class="line">  administrator</span><br></pre></td></tr></table></figure>

<h4 id="24-2-数字"><a href="#24-2-数字" class="headerlink" title="24.2 数字"></a>24.2 数字</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-eq</td>
<td>是否相等</td>
</tr>
<tr>
<td>-ne</td>
<td>是否不等于</td>
</tr>
<tr>
<td>-gt</td>
<td>是否大于</td>
</tr>
<tr>
<td>-lt</td>
<td>是否小于</td>
</tr>
<tr>
<td>-le</td>
<td>是否等于/小于</td>
</tr>
<tr>
<td>-ge</td>
<td>是否等于/大于</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># [ 10 -gt 10 ]    </span></span><br><span class="line">[root@xy ~]<span class="comment"># echo $? </span></span><br><span class="line">  1     </span><br><span class="line">[root@xy ~]<span class="comment"># [ 10 -eq 10 ]    </span></span><br><span class="line">[root@xy ~]<span class="comment"># echo $? </span></span><br><span class="line">  0    </span><br><span class="line">[root@xy ~]<span class="comment"># free -m  </span></span><br><span class="line">             total       used       free     shared    buffers     cached  </span><br><span class="line">Mem:          1987       1197        789          9          0        280  </span><br><span class="line">-/+ buffers/cache:        916       1071  </span><br><span class="line">Swap:         2063          0       2063  </span><br><span class="line">[root@xy ~]<span class="comment"># free -m | grep Mem:  </span></span><br><span class="line">Mem:          1987       1198        789          9          0        280  </span><br><span class="line">[root@xy ~]<span class="comment"># free -m |grep Mem: |awk &#x27;&#123;print $4&#125;&#x27;  </span></span><br><span class="line">789  </span><br><span class="line">[root@xy ~]<span class="comment"># FreeMem=`free -m |grep Mem: |awk &#x27;&#123;print $4&#125;&#x27;`</span></span><br><span class="line">[root@xy ~]<span class="comment"># echo $FreeMem  </span></span><br><span class="line">789  </span><br><span class="line">[root@xy ~]<span class="comment"># [ $FreeMem -lt 1024 ] &amp;&amp; echo &quot;Insufficient Memory&quot;  </span></span><br><span class="line">Insufficient Memory</span><br></pre></td></tr></table></figure>

<h4 id="24-3-字符串"><a href="#24-3-字符串" class="headerlink" title="24.3 字符串"></a>24.3 字符串</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>=</td>
<td><strong>比较字符串内容是否相同</strong></td>
</tr>
<tr>
<td>!=</td>
<td><strong>比较字符串内容是否不同</strong></td>
</tr>
<tr>
<td>-z</td>
<td><strong>判断字符串内容是否为空</strong></td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># [ -z $String ] </span></span><br><span class="line">[root@xy ~]<span class="comment"># echo $?</span></span><br><span class="line">  0    </span><br><span class="line">[root@xy ~]<span class="comment"># echo $LANG </span></span><br><span class="line">  en_US.UTF-8  </span><br><span class="line">[root@xy ~]<span class="comment"># [ $LANG != &quot;en.US&quot; ] &amp;&amp; echo &quot;Not en.US&quot; </span></span><br><span class="line">  Not en.US</span><br></pre></td></tr></table></figure>

<h3 id="25-流程控制语句"><a href="#25-流程控制语句" class="headerlink" title="25. 流程控制语句"></a>25. 流程控制语句</h3><h4 id="25-1-if条件测试语句"><a href="#25-1-if条件测试语句" class="headerlink" title="25.1 if条件测试语句"></a>25.1 if条件测试语句</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># vim mkcdrom.sh  </span></span><br><span class="line">  <span class="comment">#!/bin/bash  </span></span><br><span class="line">  DIR=<span class="string">&quot;/media/cdrom&quot;</span>  </span><br><span class="line">  <span class="keyword">if</span> [ ! -e <span class="variable">$DIR</span> ]; <span class="keyword">then</span>  </span><br><span class="line">   mkdir -p <span class="variable">$DIR</span>  </span><br><span class="line">  <span class="keyword">fi</span>  </span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># bash mkcdrom.sh   </span></span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># ls -d /media/cdrom/ </span></span><br><span class="line">  /media/cdrom/  </span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># vim chkhost.sh </span></span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># bash mkcdrom.sh</span></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># vim chkhost.sh</span></span><br><span class="line">  <span class="comment">#!/bin/bash  </span></span><br><span class="line">  ping -c 3 -i 0.2 -W 3 <span class="variable">$1</span> &amp;&gt; /dev/null   <span class="comment"># /dev/null 没有回收功能的垃圾箱  </span></span><br><span class="line">  <span class="keyword">if</span> [ $? -eq 0 ]</span><br><span class="line">  <span class="keyword">then</span>  </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Host <span class="variable">$1</span> is On-line.&quot;</span>  </span><br><span class="line">  <span class="keyword">else</span>  </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Host <span class="variable">$1</span> is Off-line.&quot;</span>  </span><br><span class="line">  <span class="keyword">fi</span>  </span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># bash chkhost.sh 192.168.37.10  </span></span><br><span class="line">  Host 192.168.37.10 is On-line.  </span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># bash chkhost.sh 192.168.37.20  </span></span><br><span class="line">  Host 192.168.37.20 is Off-line. </span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># vim chkscore.sh</span></span><br><span class="line">  <span class="comment">#!/bin/bash  </span></span><br><span class="line">  <span class="built_in">read</span> -p <span class="string">&quot;Enter your score (0-100):&quot;</span> GRADE  </span><br><span class="line">  <span class="keyword">if</span> [ <span class="variable">$GRADE</span> -ge 85 ] &amp;&amp; [ <span class="variable">$GRADE</span> -le 100 ]; <span class="keyword">then</span>  </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$GRADE</span> is Excellent&quot;</span>  </span><br><span class="line">  <span class="keyword">elif</span> [ <span class="variable">$GRADE</span> -ge 70 ] &amp;&amp; [ <span class="variable">$GRADE</span> -le 84 ]; <span class="keyword">then</span>  </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$GRADE</span> is Pass&quot;</span>  </span><br><span class="line">  <span class="keyword">else</span>  </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$GRADE</span> is Fail&quot;</span>  </span><br><span class="line">  <span class="keyword">fi</span>  </span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># bash chkscore.sh  </span></span><br><span class="line">  Enter your score (0-100): 88  </span><br><span class="line">  88 is Excellent</span><br></pre></td></tr></table></figure>

<h4 id="26-2-for条件循环语句-for-变量名-in-取值列表-do-命令序列-done"><a href="#26-2-for条件循环语句-for-变量名-in-取值列表-do-命令序列-done" class="headerlink" title="26.2 for条件循环语句(for 变量名 in 取值列表 do 命令序列 done)"></a>26.2 for条件循环语句(for 变量名 in 取值列表 do 命令序列 done)</h4><p><strong>说明:/dev/null 是一个被称作Linux黑洞的文件,把输出信息重定向到这个文件等同于删除数据(类似于没有回收功能的垃圾箱),可以让用户的屏幕窗口保持清洁.</strong>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># vim users.txt  </span></span><br><span class="line">  andy  </span><br><span class="line">  barry  </span><br><span class="line">  carll  </span><br><span class="line">  duck  </span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># vim usersadd.sh </span></span><br><span class="line">  <span class="comment">#!/bin/bash  </span></span><br><span class="line">  <span class="built_in">read</span> -p <span class="string">&quot;Enter The Users Password:&quot;</span> PASSWD	<span class="comment">#read 读取用户输入信息  </span></span><br><span class="line">  <span class="keyword">for</span> UNAME <span class="keyword">in</span> `cat users.txt`					<span class="comment">#$(cat users.txt)</span></span><br><span class="line">  <span class="keyword">do</span>  </span><br><span class="line">    id <span class="variable">$UNAME</span> &amp;&gt; /dev/null                      <span class="comment">#id 用户名</span></span><br><span class="line">    <span class="keyword">if</span> [ $? -eq 0 ]; <span class="keyword">then</span>  </span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Already exists&quot;</span>  </span><br><span class="line">    <span class="keyword">else</span>  </span><br><span class="line">        useradd <span class="variable">$UNAME</span> &amp;&gt; /dev/null   </span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$PASSWD</span>&quot;</span> | passwd --stdin <span class="variable">$UNAME</span> &amp;&gt; /dev/null  </span><br><span class="line">    <span class="keyword">if</span> [ $? -eq 0 ]; <span class="keyword">then</span>  </span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$UNAME</span> , Create success&quot;</span>  </span><br><span class="line">    <span class="keyword">else</span>  </span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$UNAME</span> , Create failure&quot;</span>  </span><br><span class="line">    <span class="keyword">fi</span>  </span><br><span class="line">    <span class="keyword">fi</span>  </span><br><span class="line">  <span class="keyword">done</span>  </span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># bash usersadd.sh  </span></span><br><span class="line">  Enter The Users Password: 19937100xy  </span><br><span class="line">  andy ,Create success  </span><br><span class="line">  barry ,Create success  </span><br><span class="line">  carl ,Create success  </span><br><span class="line">  duck ,Create success  </span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># tail -6 /etc/passwd </span></span><br><span class="line">  andy:x:1001:1001::/home/andy:/bin/bash  </span><br><span class="line">  barry:x:1002:1002::/home/barry:/bin/bash  </span><br><span class="line">  carl:x:1003:1003::/home/carl:/bin/bash  </span><br><span class="line">  duck:x:1004:1004::/home/duck:/bin/bash</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># vim ipadds.txt  </span></span><br><span class="line">  192.168.37.10  </span><br><span class="line">  192.168.37.11  </span><br><span class="line">  192.168.37.12  </span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># vim CheckHosts.sh </span></span><br><span class="line">  <span class="comment">#!/bin/bash	HLIST=$(cat ~/ipadds.txt)  </span></span><br><span class="line">  <span class="keyword">for</span> IP <span class="keyword">in</span> `cat ipadds.txt`		<span class="comment"># for IP in $HLIST </span></span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">      ping -c 3 -i 0.2 -W 3 <span class="variable">$IP</span> &amp;&gt; /dev/null  		</span><br><span class="line">      <span class="keyword">if</span> [ $? -eq 0 ] ; <span class="keyword">then</span></span><br><span class="line">          <span class="built_in">echo</span> <span class="string">&quot;Host <span class="variable">$IP</span> is On-line.&quot;</span>   </span><br><span class="line">      <span class="keyword">else</span>   </span><br><span class="line">          <span class="built_in">echo</span> <span class="string">&quot;Host <span class="variable">$IP</span> is Off-line.&quot;</span>  </span><br><span class="line">      <span class="keyword">fi</span>  </span><br><span class="line">  <span class="keyword">done</span>  </span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># bash CheckHosts.sh   </span></span><br><span class="line">  Host 192.168.37.10 is On-line.  </span><br><span class="line">  Host 192.168.37.11 is Off-line.  </span><br><span class="line">  Host 192.168.37.12 is Off-line.</span><br></pre></td></tr></table></figure>

<h4 id="26-3-while条件循环语句-while-条件测试操作-do-命令序列-done"><a href="#26-3-while条件循环语句-while-条件测试操作-do-命令序列-done" class="headerlink" title="26.3 while条件循环语句(while 条件测试操作 do 命令序列 done)"></a>26.3 while条件循环语句(while 条件测试操作 do 命令序列 done)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># vim Guess.sh  </span></span><br><span class="line">  <span class="comment">#!/bin/bash  </span></span><br><span class="line">  PRICE=$(expr <span class="variable">$RANDOM</span> % 1000)  </span><br><span class="line">  TIMES=0  </span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;商品的实际价格在0-999之间,猜猜看是多少?&quot;</span>  </span><br><span class="line">  <span class="keyword">while</span> <span class="literal">true</span>  </span><br><span class="line">  <span class="keyword">do</span>  </span><br><span class="line">      <span class="built_in">read</span> -p <span class="string">&quot;请输入您猜测的价格:&quot;</span> INT  </span><br><span class="line">      <span class="built_in">let</span> TIMES++  </span><br><span class="line">      <span class="keyword">if</span> [ <span class="variable">$INT</span> -eq <span class="variable">$PRICE</span> ] ; <span class="keyword">then</span>  </span><br><span class="line">          <span class="built_in">echo</span> <span class="string">&quot;恭喜您答对了,实际价格是 <span class="variable">$PRICE</span>&quot;</span>  </span><br><span class="line">          <span class="built_in">echo</span> <span class="string">&quot;您总共猜测了 <span class="variable">$TIMES</span> 次&quot;</span>  </span><br><span class="line">          <span class="built_in">exit</span> 0  </span><br><span class="line">      <span class="keyword">elif</span> [ <span class="variable">$INT</span> -gt <span class="variable">$PRICE</span> ] ; <span class="keyword">then</span>  </span><br><span class="line">          <span class="built_in">echo</span> <span class="string">&quot;太高了!&quot;</span>  </span><br><span class="line">      <span class="keyword">else</span>  </span><br><span class="line">          <span class="built_in">echo</span> <span class="string">&quot;太低了!&quot;</span>  </span><br><span class="line">      <span class="keyword">fi</span>  </span><br><span class="line">  <span class="keyword">done</span>  </span><br></pre></td></tr></table></figure>

<h4 id="26-4-case条件测试语句"><a href="#26-4-case条件测试语句" class="headerlink" title="26.4 case条件测试语句"></a>26.4 case条件测试语句</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ShellExample]<span class="comment"># vim checkkeys.sh </span></span><br><span class="line">  <span class="comment">#!/bin/bash  </span></span><br><span class="line">  <span class="built_in">read</span> -p <span class="string">&quot;请输入一个字符，并按Enter键确认：&quot;</span> KEY  </span><br><span class="line">  <span class="keyword">case</span> <span class="string">&quot;<span class="variable">$KEY</span>&quot;</span> <span class="keyword">in</span>  </span><br><span class="line">  [a-z] | [A-Z])  </span><br><span class="line">      <span class="built_in">echo</span> <span class="string">&quot;您输入的是<span class="variable">$KEY</span>字母。&quot;</span>  </span><br><span class="line">      ;;  </span><br><span class="line">  [0-9])  </span><br><span class="line">      <span class="built_in">echo</span> <span class="string">&quot;您输入的是<span class="variable">$KEY</span>数字。&quot;</span>  </span><br><span class="line">      ;;  </span><br><span class="line">  *)  </span><br><span class="line">      <span class="built_in">echo</span> <span class="string">&quot;您输入的是空格、功能健或其他控制字符。&quot;</span> </span><br><span class="line">      ;; </span><br><span class="line">  <span class="keyword">esac</span>  </span><br><span class="line">[root@xy ShellExample]<span class="comment"># bash checkkeys.sh  </span></span><br><span class="line">  请输入一个字符，并按Enter键确认：4  </span><br><span class="line">  您输入的是4数字。</span><br></pre></td></tr></table></figure>

<h4 id="27-计划任务服务程序-一次性、长期性计划任务"><a href="#27-计划任务服务程序-一次性、长期性计划任务" class="headerlink" title="27. 计划任务服务程序 (一次性、长期性计划任务)    "></a>27. 计划任务服务程序 (一次性、长期性计划任务)    <a id="corntab"></a></h4><img src="/posts/4ac0a166/crontab.png" class title="[crontab]">

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1 <span class="comment"># Example of job definition:  </span></span><br><span class="line">2 <span class="comment"># .---------------- minute (0 - 59)  </span></span><br><span class="line">3 <span class="comment"># |  .------------- hour (0 - 23)  </span></span><br><span class="line">4 <span class="comment"># |  |  .---------- day of month (1 - 31)  </span></span><br><span class="line">5 <span class="comment"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...  </span></span><br><span class="line">6 <span class="comment"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR   sun,mon,tue,wed,thu,fri,sat  </span></span><br><span class="line">7 <span class="comment"># |  |  |  |  |</span></span><br><span class="line">8 <span class="comment"># *  *  *  *  * user-name command to be executed </span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># at 23:30  </span></span><br><span class="line">  at &gt; systemctl restart httpd	<span class="comment">#echo &quot;systemctl restart httpd&quot; |at 23:30 </span></span><br><span class="line">  at &gt; 此处按下Ctrl+d 组合键来结束编写任务计划  </span><br><span class="line">  job 3 at Mon Apr 27 23:30:00 2017 </span><br><span class="line">[root@xy ~]<span class="comment"># at -l                 #查看一次性计划任务   </span></span><br><span class="line">  3 Mon Apr 27 23:30:00 2017 a root</span><br><span class="line">[root@xy ~]<span class="comment"># at -d 3               # 同 atrm</span></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">[root@xy ~]<span class="comment"># crontab -e   </span></span><br><span class="line">[root@xy ~]<span class="comment"># crontab -l     　# crontab - l 查看  crontab -r 删除</span></span><br><span class="line">  00 3 * * * cp /var/<span class="built_in">log</span>/alternatives.log /home/shiyanlou/tmp/$(date +%F)   </span><br><span class="line">  25  3  *  * 1,3,5 /usr/bin/tar -czvf backup.tar.gz /home/wwwroot  </span><br><span class="line">  分  时 日 月 周    任务     <span class="comment"># 没有设置的用*占位，表示每  </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 注:分字段必须有, 每分钟用* 或者 */1表示; 日、周不能同时有,否则会冲突 </span></span><br><span class="line"></span><br><span class="line">[root@xy ~]<span class="comment"># whereis rm       　# whereis 命令 查询命令所在路径</span></span><br><span class="line">  rm: /usr/bin/rm /usr/share/man/man1/rm.1.gz /usr/share/man/man1p/rm.1p.gz  </span><br><span class="line">[root@xy ~]<span class="comment"># crontab -e  </span></span><br><span class="line">  crontab: installing new crontab  </span><br><span class="line">[root@xy ~]<span class="comment"># crontab -l  </span></span><br><span class="line">  25 3 * * 1,3,5 /usr/bin/tar -czvf backup-tar.gz /home/wwwroot  </span><br><span class="line">  0 1 * * 1-5 /usr/bin/rm -rf /tmp/*</span><br></pre></td></tr></table></figure>

<h3 id="28-用户身份"><a href="#28-用户身份" class="headerlink" title="28. 用户身份"></a>28. 用户身份</h3><h4 id="相关文件"><a href="#相关文件" class="headerlink" title="相关文件:"></a>相关文件:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/etc/passwd </span><br><span class="line">用户名  :密码标识位   :UID  :GID  :组名   :家目录  :shell     </span><br><span class="line"></span><br><span class="line">/etc/shadow            </span><br><span class="line">用户名 :MD5paswd :密码修改时间(19700101) :两次修改密码时间间隔 :密码有效期 :密码到期前的警告天数  :密码过期后的宽限天数  :密码失效时间 </span><br><span class="line"></span><br><span class="line">/etc/group  /etc/gshadow /etc/skel</span><br><span class="line">  root:x:0:</span><br><span class="line">  组名:密码:GID:附加组  </span><br></pre></td></tr></table></figure>

<h4 id="28-1-useradd"><a href="#28-1-useradd" class="headerlink" title="28.1 useradd:"></a>28.1 useradd:</h4><table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-u</td>
<td><strong>指定该用户默认UID</strong></td>
</tr>
<tr>
<td>-g</td>
<td><strong>指定一个初始用户基本组,须存在</strong></td>
</tr>
<tr>
<td>-G</td>
<td>指定附加组, 须存在</td>
</tr>
<tr>
<td>-d</td>
<td><strong>指定用户家目录(默认/home/username)</strong></td>
</tr>
<tr>
<td>-s</td>
<td><strong>指定该用户默认Shell解释器</strong></td>
</tr>
<tr>
<td>-m</td>
<td>创建家目录, 用于系统用户</td>
</tr>
<tr>
<td>-M</td>
<td>不创建家目录, 用于非系统用户</td>
</tr>
<tr>
<td>-r</td>
<td>设置系统账号 #不会自动生成家目录</td>
</tr>
<tr>
<td>-c,comment</td>
<td>描述信息</td>
</tr>
<tr>
<td>-e,expire_date</td>
<td>账户到期时间(YYYY-MM-DD)</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>-u -g -G -n</td>
</tr>
<tr>
<td>finger</td>
<td>username</td>
</tr>
<tr>
<td>chsh</td>
<td>修改shell</td>
</tr>
<tr>
<td>chfn</td>
<td>修改注释信息</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># getent shadow xy   # getent passwd xy  </span></span><br><span class="line">[root@xy ~]<span class="comment"># useradd -d /home/xy -u 8888 -s /sbin/nologin xy    </span></span><br><span class="line">[root@xy ~]<span class="comment"># id xy         </span></span><br><span class="line">uid=8888(xy) gid=8888(xy) groups=8888(xy)</span><br></pre></td></tr></table></figure>

<h4 id="28-2-passwd"><a href="#28-2-passwd" class="headerlink" title="28.2 passwd"></a>28.2 passwd</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>--stdin 允许标准输入改密码</td>
<td>`echo “NewPassWord”</td>
</tr>
<tr>
<td>-l</td>
<td>锁定用户</td>
</tr>
<tr>
<td>-u</td>
<td>解锁用户</td>
</tr>
<tr>
<td>-e</td>
<td>使用户密码立即过期,下次登录强制修改密码</td>
</tr>
<tr>
<td>-d</td>
<td>使该用户可以用空密码登陆系统</td>
</tr>
<tr>
<td>-n</td>
<td>设置修改密码的最短天数</td>
</tr>
<tr>
<td>-x</td>
<td>设置修改密码的最长天数</td>
</tr>
<tr>
<td>-k</td>
<td>为密码已经过期的用户更新有效期</td>
</tr>
<tr>
<td>-w</td>
<td>设置密码过期前告警的天数</td>
</tr>
<tr>
<td>-i</td>
<td>设置密码过期后多少天禁用该用户</td>
</tr>
<tr>
<td>-S</td>
<td>显示用户密码相关描述</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>chage</th>
<th>修改用户密码策略</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>最近一次修改时间</td>
</tr>
<tr>
<td>-E</td>
<td>过期时间</td>
</tr>
<tr>
<td>-I</td>
<td>非活动时间</td>
</tr>
<tr>
<td>-m</td>
<td>最短使用期限</td>
</tr>
<tr>
<td>-M</td>
<td>最长使用期限</td>
</tr>
<tr>
<td>-w</td>
<td>警告时间</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># passwd xy </span></span><br><span class="line">  Changing password <span class="keyword">for</span> user xy.  </span><br><span class="line">  New password:   </span><br><span class="line">  Retype new password:  </span><br><span class="line">  asswd: all authentication tokens updated successfully.   </span><br><span class="line">[root@xy ~]<span class="comment"># passwd -l xy </span></span><br><span class="line">  Locking password <span class="keyword">for</span> user xy.  </span><br><span class="line">  passwd: Success  </span><br><span class="line">[root@xy ~]<span class="comment"># passwd -u xy</span></span><br><span class="line">  Unlocking password <span class="keyword">for</span> user xy.  </span><br><span class="line">  passwd: Success  </span><br><span class="line">[root@xy ~]<span class="comment"># passwd -S xy   # -S --ststus</span></span><br><span class="line">  xy PS 2018-07-06 0 99999 7 -1 (Password <span class="built_in">set</span>, SHA512 crypt.)  </span><br><span class="line">[root@xy ~]<span class="comment"># passwd -n 7 -x 60 -w 10 -i 30 xy  # 7天内不能更改密码，60天后必须改密，过期前10天通知，过期后30天禁用该用户  </span></span><br><span class="line">[root@xy ~]<span class="comment"># groupadd ronny               # groupadd -g ID    groupdel    </span></span><br><span class="line">[root@xy ~]<span class="comment"># gpasswd -a / -d user group   # 把用户从组中加入/删除</span></span><br></pre></td></tr></table></figure>

<h4 id="28-3-userdel"><a href="#28-3-userdel" class="headerlink" title="28.3 userdel"></a>28.3 userdel</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>强制删除用户</td>
</tr>
<tr>
<td>-r</td>
<td>同时删除用户及家目录</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># id xy  </span></span><br><span class="line">  uid=8888(xy) gid=1000(xy) groups=1000(xy),0(root)  </span><br><span class="line">[root@xy ~]<span class="comment"># userdel -r xy  </span></span><br><span class="line">[root@xy ~]<span class="comment"># id xy</span></span><br><span class="line">  id: xy: no user  </span><br></pre></td></tr></table></figure>

<h4 id="28-4-usermod"><a href="#28-4-usermod" class="headerlink" title="28.4 usermod"></a>28.4 usermod</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-u</td>
<td><strong>修改用户UID</strong></td>
</tr>
<tr>
<td>-g</td>
<td><strong>修改用户初始组</strong></td>
</tr>
<tr>
<td>-aG</td>
<td><strong>修改用户附加组,追加不覆盖</strong></td>
</tr>
<tr>
<td>-l</td>
<td>修改用户名</td>
</tr>
<tr>
<td>-s</td>
<td><strong>变更默认终端</strong></td>
</tr>
<tr>
<td>-c,--comment</td>
<td><strong>填写用户备注信息</strong></td>
</tr>
<tr>
<td>-d -m</td>
<td><strong>重新指定用户的家目录并自动迁移数据</strong></td>
</tr>
<tr>
<td>-e,–expire_date</td>
<td><strong>账户到期时间(YYYY-MM-DD)</strong></td>
</tr>
<tr>
<td>-L,–Lock</td>
<td><strong>锁定用户禁止登陆系统</strong></td>
</tr>
<tr>
<td>-U,–Unlock</td>
<td><strong>解锁用户,允许登陆系统</strong></td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># usermod -aG root xy  # 用户xy追加附加组root  </span></span><br><span class="line">[root@xy ~]<span class="comment"># id xy  </span></span><br><span class="line">  uid=1000(xy) gid=1000(xy) groups=1000(xy),0(root)</span><br><span class="line">[root@xy ~]<span class="comment"># usermod -u 8888 xy  </span></span><br><span class="line">[root@xy ~]<span class="comment"># id xy</span></span><br><span class="line">  uid=8888(xy) gid=1000(xy) groups=1000(xy),0(root)</span><br><span class="line">[root@xy ~]<span class="comment"># gpasswd -a xy root</span></span><br><span class="line">[root@xy ~]<span class="comment"># gpasswd -d xy root</span></span><br></pre></td></tr></table></figure>

<h4 id="28-5-chmod"><a href="#28-5-chmod" class="headerlink" title="28.5 chmod"></a>28.5 chmod</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">who: u g o a</span><br><span class="line">opt: + - =</span><br><span class="line">per: r=4 w=2 x=1	<span class="comment">#r,可浏览文件列表; w,可创建删除文件; x,访问目录的内容;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#umask </span></span><br><span class="line">	<span class="built_in">umask</span>: 0002 (掩码)</span><br><span class="line">	目录: 777=<span class="built_in">umask</span>+default</span><br><span class="line">	文件: 666=<span class="built_in">umask</span>+default</span><br><span class="line">	当文件权限通过666-umask计算后,某位有奇数,则将其权限+1;</span><br><span class="line"><span class="comment">#特殊权限</span></span><br><span class="line">	SUID: 作用于二进制程序,执行此文件,临时具有所有者的权限, /bin/passwd</span><br><span class="line">		chmod u+s		<span class="comment">#s=4</span></span><br><span class="line">	SGID: 作用于二进制程序,执行此文件,临时具有所属组的权限, /bin/passwd</span><br><span class="line">		  作用于目录上,创建的新文件,文件的所属组继承目录的所属组</span><br><span class="line">	Sticky: 作用与目录,只能删除此目录中自己文件, /tmp	<span class="comment">#s=2</span></span><br><span class="line">		chmod o+t		<span class="comment">#t=1</span></span><br></pre></td></tr></table></figure>

<h3 id="29-netstat-atlnp"><a href="#29-netstat-atlnp" class="headerlink" title="29. netstat(-atlnp)"></a>29. netstat(-atlnp)</h3><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-t, --tcp</td>
<td>指明显示TCP端口</td>
</tr>
<tr>
<td>-u, --udp</td>
<td>指明显示UDP端口</td>
</tr>
<tr>
<td>-a, --all</td>
<td>–</td>
</tr>
<tr>
<td>-r, --route</td>
<td>显示核心路由信息</td>
</tr>
<tr>
<td>-l, --listen</td>
<td>仅显示监听套接字</td>
</tr>
<tr>
<td>-p, --PID</td>
<td>显示进程标识符</td>
</tr>
<tr>
<td>-n, --numeric</td>
<td>不解析服务的名称</td>
</tr>
</tbody></table>
<h3 id="30-ss-antlp"><a href="#30-ss-antlp" class="headerlink" title="30. ss(-antlp)"></a>30. ss(-antlp)</h3><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-t, --tcp</td>
<td>显示 TCP 协议的 sockets</td>
</tr>
<tr>
<td>-u, --udp</td>
<td>显示 UDP 协议的 sockets</td>
</tr>
<tr>
<td>-n, --numeric</td>
<td>不解析服务的名称，如 “22” 端口不会显示成 “ssh”</td>
</tr>
<tr>
<td>-l, --listening</td>
<td>只显示处于监听状态的端口</td>
</tr>
<tr>
<td>-p, --processes</td>
<td>显示监听端口的进程(Ubuntu 上需要 sudo)</td>
</tr>
<tr>
<td>-a, --all</td>
<td>对 TCP 协议来说，既包含监听的端口，也包含建立的连接</td>
</tr>
<tr>
<td>-r, --resolve</td>
<td>把 IP 解释为域名，把端口号解释为协议名称</td>
</tr>
</tbody></table>
<h3 id="31-lsof-list-open-files"><a href="#31-lsof-list-open-files" class="headerlink" title="31. lsof: list open files"></a>31. lsof: list open files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lsof -i:8022 </span><br><span class="line">lsof -i tcp     </span><br></pre></td></tr></table></figure>

<h3 id="32-文件归属与权限"><a href="#32-文件归属与权限" class="headerlink" title="32. 文件归属与权限"></a>32. 文件归属与权限</h3><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-</td>
<td>普通文件</td>
</tr>
<tr>
<td>d</td>
<td>目录文件</td>
</tr>
<tr>
<td>l</td>
<td>链接文件</td>
</tr>
<tr>
<td>b</td>
<td>块设备文件,按块为单位,随机访问的设备(硬盘)</td>
</tr>
<tr>
<td>c</td>
<td>字符设备文件,按字符为单位,线性设备(键盘)</td>
</tr>
<tr>
<td>p</td>
<td>管道文件</td>
</tr>
<tr>
<td>r</td>
<td>(可读)-4</td>
</tr>
<tr>
<td>w</td>
<td>(可写:编辑、新增、修改、删除文件实际内容) -2</td>
</tr>
<tr>
<td>x</td>
<td>(执行)-1</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># ls -l initial-setup-ks.cfg</span></span><br><span class="line">  drwxr-xr-x. 2 anyue anyue  6 Jul 27 14:59 Videos</span><br><span class="line">  | 文件类型 | 7 | 5 | 5 | 属主 | 属组 | 大小 | 修改时间 | 文件名 |</span><br></pre></td></tr></table></figure>

<p><strong>SUID是一种对<code>二进制程序</code>进行设置的特殊权限, 可以让二进制程序的执行者临时拥有属主的权限(仅对拥有执行权限的二进制程序有效), 相应进程的属主是程序文件自身的属主, 而不是调用者</strong>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># ll /bin/cat  </span></span><br><span class="line">  -rwxr-xr-x  1 root root 23260 Jan 30 2014 /bin/cat  </span><br><span class="line">[root@xy ~]<span class="comment"># chmod u+s /bin/cat  # chmod u-s FILE</span></span><br><span class="line">  -rwxsr-xr-x  1 root root 23260 Jan 30 2014 /bin/cat  </span><br><span class="line"></span><br><span class="line">[anyue@xy ~]<span class="comment"># cat /etc/shadow  # 可以查看shadow  </span></span><br></pre></td></tr></table></figure>

<p><strong>SGID:让执行者临时拥有属组的权限(对拥有执行权限的二进制程序进行设置)在<code>某个目录</code>中创建的文件自动集成该目录的用户组(只可以对目录进行设置)</strong>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]<span class="comment"># useradd hadoop; useradd hbase;    </span></span><br><span class="line">[root@xy ~]<span class="comment"># mkdir /tmp/project </span></span><br><span class="line">[root@xy ~]<span class="comment"># groupadd deve; chown -R :deve /tmp/project/  </span></span><br><span class="line">[root@xy ~]<span class="comment"># usermod -aG  deve hadoop; usermod -aG  deve habase  </span></span><br><span class="line">[hadoop@xy project]<span class="comment"># ls -ld       </span></span><br><span class="line">  drwxr-xr-x 2 root deve 4096 Jan 8 18:55 .  <span class="comment"># hadoop 无写权限</span></span><br><span class="line">[root@xy tmp]<span class="comment"># chmod g+w /tmp/project  # 添加写权限  </span></span><br><span class="line">[hadoop@xy project]<span class="comment"># ls -l  </span></span><br><span class="line">  -rw-rw-r-- 1 hadoop hadoop 0 Jan 8 18:58 a.hadoop    </span><br><span class="line">  -rw-rw-r-- 1 habase habse 0 Jan 8 18:58 a.habase    </span><br><span class="line">[root@xy ~]<span class="comment"># chmod g+s /tmp/project  </span></span><br><span class="line">[root@xy ~]<span class="comment"># ls -ld /tmp/project        </span></span><br><span class="line">  drwxrwsr-x 2 root deve 4096 Jan 8 18:59 /tmp/project   </span><br><span class="line">[hadoop@xy project]<span class="comment"># touch b.hadoop  </span></span><br><span class="line">  -rw-rw-r-- 1 hadoop deve 0 Jan 8 19:00 b.hadoop   </span><br><span class="line"></span><br><span class="line">chmod 权限 文件或目录名称  u g o + - = rwx       </span><br><span class="line">chown 所有者:所属组 文件或目录名称   --reference=/path/file modFile,...</span><br></pre></td></tr></table></figure>

<p><strong>SBIT(Sticky Bit):特殊权限位可确保用户只能删除自己的文件,而不能删除其它用户的文件.即当<code>对某个目录设置</code>了SBIT粘滞位权限后,那么该目录中的文件就只能被其所有者执行删除操作了</strong>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xy ~]$ chmod o+t /tmp/project  </span><br><span class="line">[root@xy ~]<span class="comment"># ls -ld /tmp/project </span></span><br><span class="line">  drwxrwsr-t 2 root deve 4096 Jan 8  19:05 /tmp/project  </span><br><span class="line">[root@xy ~]$ chmod 3755 /tmp/project  <span class="comment"># SUID SGUID Sticky(000-111)</span></span><br></pre></td></tr></table></figure>

<h3 id="33-文件的隐藏属性"><a href="#33-文件的隐藏属性" class="headerlink" title="33. 文件的隐藏属性"></a>33. 文件的隐藏属性</h3><h4 id="33-1-chattr-参数-参数"><a href="#33-1-chattr-参数-参数" class="headerlink" title="33.1 chattr(+参数 -参数)"></a>33.1 chattr(+参数 -参数)</h4><ul>
<li>i: 不能删除、改名、更改  </li>
<li>a: 只能追加内容  </li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># chattr +a linuxprobe   # Append Only </span></span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># rm linuxprobe   </span></span><br><span class="line">  rm: remove regular file ‘linuxprobe’? y  </span><br><span class="line">  rm: cannot remove ‘linuxprobe’: Operation not permitted  </span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># chattr -a linuxprobe   </span></span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># rm linuxprobe</span></span><br><span class="line">  rm: remove regular file ‘linuxprobe’? y  </span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># lsattr linuxprobe   # 隐藏权限  </span></span><br><span class="line">[root@xy <span class="built_in">test</span>]<span class="comment"># -----a--------- linuxprobe  </span></span><br></pre></td></tr></table></figure>

<h4 id="33-2-文件访问控制表-ACL"><a href="#33-2-文件访问控制表-ACL" class="headerlink" title="33.2 文件访问控制表(ACL)"></a>33.2 文件访问控制表(ACL)</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-m</td>
<td>设定权限</td>
</tr>
<tr>
<td>-x</td>
<td>取消权限</td>
</tr>
<tr>
<td>-b, –remove all</td>
<td>移除所有</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[xy@xy ~]$ <span class="built_in">cd</span> /root  </span><br><span class="line">  -bash: <span class="built_in">cd</span>: /root: Permission denied  </span><br><span class="line">[xy@xy root]$ <span class="built_in">exit</span>  </span><br><span class="line">[root@xy ~]<span class="comment"># setfacl -Rm u:xy:rwx /root  </span></span><br><span class="line">[root@xy ~]<span class="comment"># su -xy  </span></span><br><span class="line">  Last login: Sat Mar 21 21:45:04 CST 2018 on pts/1  </span><br><span class="line">[xy@xy ~]$ <span class="built_in">cd</span> /root  </span><br><span class="line">[xy@xy root]$ ls  </span><br><span class="line">  anaconda-ks.cfg Downloads Pictures Public  </span><br><span class="line">[xy@xy ~]<span class="comment"># cat anaconda-ks.cfg  </span></span><br><span class="line">[xy@xy ~]<span class="comment"># exit  </span></span><br><span class="line">[root@xy ~]<span class="comment"># ls ld /root  </span></span><br><span class="line">  dr-xrwx---+ 14 root root 4096 May 4 2018 /root  </span><br><span class="line">[root@xy ~]<span class="comment"># setfacl -x u:xy /root </span></span><br><span class="line">[root@xy ~]<span class="comment"># getfacl /root        # getfacl 显示ACL信息  </span></span><br><span class="line">  getfacl: Removing leading <span class="string">&#x27;/&#x27;</span> from absolute path names   </span><br><span class="line">  1 <span class="comment"># file: root  </span></span><br><span class="line">  2 <span class="comment"># owner: root  </span></span><br><span class="line">  3 <span class="comment"># group: root  </span></span><br><span class="line">  user::r-x  </span><br><span class="line">  user:xy:rwx  </span><br><span class="line">  group::r-x  </span><br><span class="line">  mask::rwx  </span><br><span class="line">  other::---</span><br><span class="line"></span><br><span class="line">[root@xy ~]<span class="comment"># whereis ps  # 搜索命令所在位置及帮助文档</span></span><br><span class="line">  ps: /usr/bin/ps /usr/share/man/man1/ps.1.gz /usr/share/man/man1p/ps.1p.gz</span><br></pre></td></tr></table></figure>

<h3 id="补充小知识："><a href="#补充小知识：" class="headerlink" title="补充小知识："></a>补充小知识：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">locate     <span class="comment"># 文件名搜索   </span></span><br><span class="line">	快捷的在`locatedb`中搜索文件名, 因为是在本地数据库中搜索`/var/lib/mlocate`, 所以速度很快, 但数据库更新为1天, 所以使用`updatedb`更新数据库;   </span><br><span class="line">whoami     <span class="comment"># 当前登陆用户  </span></span><br><span class="line">whatis ls  <span class="comment"># 查看命令作用</span></span><br><span class="line"><span class="built_in">which</span> ls   <span class="comment"># 查看命令所在位置及别名 whereis 更详细</span></span><br></pre></td></tr></table></figure>

<p>:link:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/wlzjdm/p/8687745.html">Rhel-7-yum源配置-1</a><br>:link:<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36119192/article/details/82222175">Rhel-7-yum源配置-2</a><br>:link:<a target="_blank" rel="noopener" href="https://blog.csdn.net/u013605322/article/details/79726564">Rhel-7-yum源配置-3</a><br>:link:<a target="_blank" rel="noopener" href="https://blog.csdn.net/tantexian/article/details/38895449">RHEL-7-yum优先级设置-1</a><br>:link:<a target="_blank" rel="noopener" href="https://blog.csdn.net/conling_/article/details/70399694">RHEL-7-yum优先级设置-2</a> </p>
<p>:link:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/sench/p/8933638.html">umask 命令参考</a>    </p>
<blockquote>
<p><strong>文件的默认权限</strong>为 <code>666</code>, 创建目录的默认权限 <code>777</code>, 而umask值则表明了需要从默认权限中去掉哪些权限来成为最终的默认权限值, 文件默认不能具有执行权限，如果算的结果中右执行权限，则将其权限加1;  </p>
<p>权限 = 默认权限 - umask  </p>
</blockquote>
<img src="/posts/4ac0a166/umask.jpg" class title="[umask]">

<h4 id="文件系统命令补充："><a href="#文件系统命令补充：" class="headerlink" title="文件系统命令补充："></a>文件系统命令补充：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dumpe2fs -h /dev/sd*	<span class="comment">#查看分区概览信息</span></span><br><span class="line">fdisk -l	<span class="comment">#显示磁盘信息</span></span><br><span class="line">fdisk -t	<span class="comment">#更改分区系统的ID</span></span><br><span class="line">fsck -y /dev/sdb1	<span class="comment">#文件系统修复命令</span></span><br><span class="line"></span><br><span class="line">partx -a /dev/DEVICE   partx -d --nr number /dev/device	<span class="comment">#CentOS6</span></span><br><span class="line">partprobe /dev/DEVICE	<span class="comment">#CentOS5,7</span></span><br></pre></td></tr></table></figure>

<h4 id="相关解压压缩命令"><a href="#相关解压压缩命令" class="headerlink" title="相关解压压缩命令"></a>相关解压压缩命令</h4><h4 id="link-参考2"><a href="#link-参考2" class="headerlink" title=":link:参考2"></a>:link:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/machangwei-8/p/9572227.html">参考2</a></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">1、gzip gunzip:</span><br><span class="line">	gzip /PATH/SOMEFILE		<span class="comment">#压缩后会删除源文件(不支持目录压缩) </span></span><br><span class="line">    	-d 解压缩</span><br><span class="line">    	-<span class="comment"># 1-9(压缩率)</span></span><br><span class="line">    gunzip  /PATH/SOMEFILE.gz <span class="comment">#解压后会删除源文件  </span></span><br><span class="line">    zcat /PATH/SOMEFILE.gz    <span class="comment">#不解压查看文本文件内容</span></span><br><span class="line"></span><br><span class="line">2、bzip2 bunzip2</span><br><span class="line">	bzip2 /PATH/SOMEFILE</span><br><span class="line">		-d 解压缩</span><br><span class="line">        -k 保留源文件</span><br><span class="line">        -<span class="comment"># 1-9(压缩率)</span></span><br><span class="line">    bunzip2 /PATH/SOMEFILE.bz2</span><br><span class="line">    bzcat /PATH/SOMEFILE.bz2     <span class="comment">#不解压查看文本文件内容</span></span><br><span class="line"></span><br><span class="line">3、xz unxz </span><br><span class="line">	xz /PATH/SOMEFILE</span><br><span class="line">		-d 解压缩</span><br><span class="line">        -k 保留源文件</span><br><span class="line">        -<span class="comment"># 1-9(压缩率)</span></span><br><span class="line">    unxz /PATH/SOMEFILE.xz</span><br><span class="line">    xzcat /PATH/SOMEFILE.xz</span><br><span class="line">4、zip unzip:  </span><br><span class="line">	zip FILENAME.zip FILE1 FILE2 ...    </span><br><span class="line">	unzip tmp.zip    <span class="comment">#指定解压目录</span></span><br></pre></td></tr></table></figure>

<h4 id="bash快捷键"><a href="#bash快捷键" class="headerlink" title="bash快捷键"></a>bash快捷键</h4><table>
<thead>
<tr>
<th>快捷键</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>Tab</td>
<td>命令补全</td>
</tr>
<tr>
<td>Ctrl+E</td>
<td>移动到行尾</td>
</tr>
<tr>
<td>Ctrl+C</td>
<td>移动到行首</td>
</tr>
<tr>
<td>Ctrl+L</td>
<td>清屏</td>
</tr>
<tr>
<td>Ctrl+U</td>
<td>删除/剪切</td>
</tr>
<tr>
<td>Ctrl+Y</td>
<td>粘贴</td>
</tr>
</tbody></table>
<h5 id="查询文件的第几行-第几行命令"><a href="#查询文件的第几行-第几行命令" class="headerlink" title="查询文件的第几行-第几行命令"></a>查询文件的第几行-第几行命令</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat file.txt |tail -n +10 |head -n20   <span class="comment"># 从10行开始, 显示20行, 10~29</span></span><br><span class="line">sed -n <span class="string">&#x27;5,10p&#x27;</span> file.txt</span><br></pre></td></tr></table></figure>

<h5 id="命令提示符颜色更改"><a href="#命令提示符颜色更改" class="headerlink" title="命令提示符颜色更改"></a>命令提示符颜色更改</h5><p>:link:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/menlsh/archive/2012/08/27/2659101.html">PS1参考博文</a></p>
<p>:link:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/wt645631686/p/6868694.html">Shell脚本的颜色样式及属性控制</a>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$PS1</span></span><br><span class="line">vim /etc/profile.d/color.sh</span><br><span class="line">PS1=<span class="string">&quot;\[\033[1;5;41;33m\][\u@\h\W\t\!]\\$\[\033[0m\]&quot;</span></span><br><span class="line">\u 当前用户  \H 主机名  \h 主机名简称  \w 当前工作目录</span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\e[字体格式;背景色;前景色m字符串\e[0m&quot;</span>  <span class="comment"># \e[0m 关闭所有属性</span></span><br></pre></td></tr></table></figure>

<img src="/posts/4ac0a166/colorBash.jpg" class title="[PS1]">

<h5 id="总结：1位数表示字体显示格式"><a href="#总结：1位数表示字体显示格式" class="headerlink" title="总结：1位数表示字体显示格式"></a>总结：1位数表示字体显示格式</h5><table>
<thead>
<tr>
<th>背景色(4)</th>
<th>字体色/前景色(3)</th>
<th>结束其他功能</th>
</tr>
</thead>
<tbody><tr>
<td>40 黑色</td>
<td>30m 黑色</td>
<td>\033[0m 关闭所有属性</td>
</tr>
<tr>
<td>41 红色</td>
<td>31m 红色</td>
<td>\033[1m 设置高亮度</td>
</tr>
<tr>
<td>42 绿色</td>
<td>32m 绿色</td>
<td>\033[4m 下划线</td>
</tr>
<tr>
<td>43 黄色</td>
<td>33m 黄色</td>
<td>\033[5m 闪烁</td>
</tr>
<tr>
<td>44 蓝色</td>
<td>34m 蓝色</td>
<td>\033[7m 反显，显示为白底黑字，或黑底白字</td>
</tr>
<tr>
<td>45 紫色</td>
<td>35m 紫色</td>
<td>\033[8m 消隐，字符色与背景色相同</td>
</tr>
<tr>
<td>46 浅蓝色</td>
<td>36m 浅蓝色</td>
<td>\033[K 清除从光标到行尾的内容</td>
</tr>
<tr>
<td>47 灰色</td>
<td>37m 灰色</td>
<td>—</td>
</tr>
</tbody></table>
<h5 id="visudo-man-5-sudoers"><a href="#visudo-man-5-sudoers" class="headerlink" title="visudo (man 5 sudoers)"></a>visudo (man 5 sudoers)</h5><ul>
<li>用户名/%组名  被管理主机地址=(可使用的身份)   授权命令(绝对路径)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root    ALL=(ALL)    ALL</span><br><span class="line">hadoop  ALL=(root)   NOPASSWD: /usr/sbin/useradd, PASSWD: /usr/sbin/usermod</span><br></pre></td></tr></table></figure>

<ul>
<li>alias:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">User_Alias USERADMIN = hadoop, %hadoop, %useradmin</span><br><span class="line">Cmnd_Alias USERADMINCMND = /usr/sbin/useradd, /usr/sbin/usermod, /usr/bin/passwd [a-zA-Z]*, ! /usr/bin/passwd root</span><br><span class="line">USERADMIN  ALL=(root) NOPASSWD: USERADMINCMND</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>ldd(列出文件依赖库文件)  </p>
<h3 id="返回目录"><a href="#返回目录" class="headerlink" title="返回目录"></a><a href="#back">返回目录</a></h3></li>
</ul>

    </div>

    
    
    
        <div class="reward-container">
  <div>如果觉得我的文章对您有用，请随意打赏。您的支持将鼓励我继续创作！</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.png" alt="anyue967 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="anyue967 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>anyue967
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://anyue967.github.io/posts/4ac0a166.html" title="Linux基础命令">https://anyue967.github.io/posts/4ac0a166.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

      
      
      
        <div>
          <div>
    
    	<div style="text-align:center;color: #1E1E1E;font-size:16px;line-height: 4;">------本文结束
        <i class="fa fa-paw"></i>感谢阅读------
        </div>
    
</div>
        </div>
      

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/linux%E5%91%BD%E4%BB%A4/" rel="tag"><i class="fa fa-tag"></i> linux命令</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/b83b20cb.html" rel="prev" title="关于开源协议">
      <i class="fa fa-chevron-left"></i> 关于开源协议
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/296e7ad4.html" rel="next" title="Linux服务配置01">
      Linux服务配置01 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95"><span class="nav-number">1.</span> <span class="nav-text">目录 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E5%8C%BA%E6%96%B9%E6%A1%88%EF%BC%9A"><span class="nav-number">2.</span> <span class="nav-text">分区方案：</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86%EF%BC%9A"><span class="nav-number">2.1.</span> <span class="nav-text">背景知识：</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A1%AC%E7%9B%98%E5%BB%BA%E7%AB%8B%E5%88%86%E5%8C%BA"><span class="nav-number">2.1.1.</span> <span class="nav-text">硬盘建立分区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BB%E5%BC%95%E5%AF%BC%E8%AE%B0%E5%BD%95-MBR-Master-Boot-Record"><span class="nav-number">2.1.2.</span> <span class="nav-text">主引导记录 MBR (Master Boot Record): </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux-%E4%B8%8B%E7%9A%84%E5%88%86%E5%8C%BA%E6%96%B9%E6%A1%88"><span class="nav-number">2.1.3.</span> <span class="nav-text">Linux 下的分区方案</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RPM-%E7%BA%A2%E5%B8%BD%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8-%E7%9B%B8%E5%BD%93%E4%BA%8Ewindows-%E7%9A%84%E6%8E%A7%E5%88%B6%E9%9D%A2%E6%9D%BF%E7%9A%84%E8%BD%AF%E4%BB%B6%E7%AE%A1%E7%90%86"><span class="nav-number">2.1.4.</span> <span class="nav-text">RPM:(红帽软件包管理器) 相当于windows 的控制面板的软件管理 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E5%8C%85%E6%9D%A5%E6%BA%90"><span class="nav-number">2.1.5.</span> <span class="nav-text">程序包来源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Yum%E8%BD%AF%E4%BB%B6%E4%BB%93%E5%BA%93-%E8%A7%A3%E5%86%B3%E5%8C%85%E7%9A%84%E4%BE%9D%E8%B5%96%E6%80%A7"><span class="nav-number">2.1.6.</span> <span class="nav-text">Yum软件仓库(解决包的依赖性): </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%AF%E7%94%A8%E5%A4%9A%E7%94%A8%E6%88%B7"><span class="nav-number">2.1.7.</span> <span class="nav-text">启用多用户   </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1"><span class="nav-number">2.2.</span> <span class="nav-text">3. 管理服务  </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-RPM-%E5%8C%85%E5%AE%89%E8%A3%85"><span class="nav-number">2.2.1.</span> <span class="nav-text">3.1 RPM 包安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85"><span class="nav-number">2.2.2.</span> <span class="nav-text">3.2 源码安装</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E8%AE%BE%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E3%80%81%E4%B8%8D%E5%90%AF%E5%8A%A8"><span class="nav-number">2.3.</span> <span class="nav-text">4. 设置服务开机启动、不启动</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E9%87%8D%E7%BD%AE%E5%AF%86%E7%A0%81%E6%93%8D%E4%BD%9C"><span class="nav-number">2.4.</span> <span class="nav-text">5. 重置密码操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E8%A7%A3%E5%86%B3piix4-smbus-0000-00-007-3-Host-SMBus-controller-not-enabled"><span class="nav-number">2.5.</span> <span class="nav-text">6. 解决piix4_smbus 0000:00:007:3:Host SMBus controller not enabled!</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E5%B8%B8%E7%94%A8%E7%B3%BB%E7%BB%9F%E5%B7%A5%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="nav-number">2.6.</span> <span class="nav-text">7. 常用系统工作命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-man"><span class="nav-number">2.6.1.</span> <span class="nav-text">7.1 man</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-echo-%E5%AD%97%E7%AC%A6%E4%B8%B2-%E5%8F%98%E9%87%8F"><span class="nav-number">2.6.2.</span> <span class="nav-text">7.2 echo  　　# 字符串 &#x2F; $变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-date"><span class="nav-number">2.6.3.</span> <span class="nav-text">7.3 date  </span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#CentOS-6-x-7-x"><span class="nav-number">2.6.3.1.</span> <span class="nav-text">CentOS 6.x  &#x2F; 7.x</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-4-wget"><span class="nav-number">2.6.4.</span> <span class="nav-text">7.4 wget</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#curl"><span class="nav-number">2.6.5.</span> <span class="nav-text">curl</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-5-ps-pstree-p"><span class="nav-number">2.6.6.</span> <span class="nav-text">7.5 ps(pstree -p)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-7-pidof"><span class="nav-number">2.6.7.</span> <span class="nav-text">7.7 pidof 　　　  </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-8-kill-l"><span class="nav-number">2.6.8.</span> <span class="nav-text">7.8 kill -l  </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-9-killall"><span class="nav-number">2.6.9.</span> <span class="nav-text">7.9 killall   </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E6%A3%80%E6%B5%8B%E5%91%BD%E4%BB%A4"><span class="nav-number">2.7.</span> <span class="nav-text">8. 系统状态检测命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-ifconfig-ip"><span class="nav-number">2.7.1.</span> <span class="nav-text">8.1 ifconfig(ip)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-uname"><span class="nav-number">2.7.2.</span> <span class="nav-text">8.2 uname</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-uptime"><span class="nav-number">2.7.3.</span> <span class="nav-text">8.3 uptime</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-free"><span class="nav-number">2.7.4.</span> <span class="nav-text">8.4. free</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-5-who"><span class="nav-number">2.7.5.</span> <span class="nav-text">8.5 who</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-6-last-%E6%98%BE%E7%A4%BA%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E5%8E%86%E5%8F%B2%E5%8F%8A%E7%B3%BB%E7%BB%9F%E9%87%8D%E5%90%AF%E5%8E%86%E5%8F%B2"><span class="nav-number">2.7.6.</span> <span class="nav-text">8.6 last: 显示用户登录历史及系统重启历史</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-7-history"><span class="nav-number">2.7.7.</span> <span class="nav-text">8.7 history</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-8-sosreport"><span class="nav-number">2.7.8.</span> <span class="nav-text">8.8 sosreport</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95%E5%88%87%E6%8D%A2%E5%91%BD%E4%BB%A4"><span class="nav-number">2.8.</span> <span class="nav-text">9. 工作目录切换命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#9-1-pwd"><span class="nav-number">2.8.1.</span> <span class="nav-text">9.1 pwd</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-2-cd"><span class="nav-number">2.8.2.</span> <span class="nav-text">9.2 cd</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-3-ls"><span class="nav-number">2.8.3.</span> <span class="nav-text">9.3 ls</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%91%BD%E4%BB%A4"><span class="nav-number">2.9.</span> <span class="nav-text">10. 文本编辑命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#10-1-cat"><span class="nav-number">2.9.1.</span> <span class="nav-text">10.1 cat</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-2-more"><span class="nav-number">2.9.2.</span> <span class="nav-text">10.2 more</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-3-head"><span class="nav-number">2.9.3.</span> <span class="nav-text">10.3 head</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-4-tail-%E9%BB%98%E8%AE%A4%E5%90%8E10%E8%A1%8C"><span class="nav-number">2.9.4.</span> <span class="nav-text">10.4 tail(默认后10行)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-3-diff"><span class="nav-number">2.9.5.</span> <span class="nav-text">10.3 diff</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-4-wc-%E7%BB%9F%E8%AE%A1%E6%8C%87%E5%AE%9A%E6%96%87%E6%9C%AC%E7%9A%84%E8%A1%8C%E6%95%B0-%E5%AD%97%E6%95%B0-%E5%AD%97%E8%8A%82%E6%95%B0-word-count"><span class="nav-number">2.9.6.</span> <span class="nav-text">10.4 wc   统计指定文本的行数, 字数, 字节数 word count</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-5-stat"><span class="nav-number">2.9.7.</span> <span class="nav-text">10.5 stat</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-6-cut-%E6%8F%90%E5%8F%96%E5%88%97-%E5%AD%97%E7%AC%A6%E4%B8%B2-%E4%B8%8D%E8%AF%86%E5%88%AB%E7%A9%BA%E6%A0%BC"><span class="nav-number">2.9.8.</span> <span class="nav-text">10.6 cut 提取列 字符串,不识别空格</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-7-tr-%E6%9B%BF%E6%8D%A2%E6%96%87%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">2.9.9.</span> <span class="nav-text">10.7 tr　替换文本字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sort-%E5%8F%96%E5%88%97%E6%8E%92%E5%BA%8F"><span class="nav-number">2.9.10.</span> <span class="nav-text">sort(取列排序)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#uniq-%E7%9B%B8%E9%82%BB%E7%9B%B8%E5%90%8C%E7%9A%84%E5%AD%97%E7%AC%A6"><span class="nav-number">2.9.11.</span> <span class="nav-text">uniq(相邻相同的字符)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="nav-number">2.10.</span> <span class="nav-text">11. 文件目录管理命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#11-1-touch"><span class="nav-number">2.10.1.</span> <span class="nav-text">11.1 touch</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-2-mkdir"><span class="nav-number">2.10.2.</span> <span class="nav-text">11.2 mkdir</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-3-cp-a-r-v"><span class="nav-number">2.10.3.</span> <span class="nav-text">11.3 cp  (-a -r -v)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-4-mv"><span class="nav-number">2.10.4.</span> <span class="nav-text">11.4 mv</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-5-rm"><span class="nav-number">2.10.5.</span> <span class="nav-text">11.5 rm</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-6-dd-%E6%8C%89%E7%85%A7%E6%8C%87%E5%AE%9A%E5%A4%A7%E5%B0%8F%E5%92%8C%E4%B8%AA%E6%95%B0%E7%9A%84%E6%95%B0%E6%8D%AE%E5%9D%97%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6%E6%88%96%E8%BD%AC%E6%8D%A2%E6%96%87%E4%BB%B6"><span class="nav-number">2.10.6.</span> <span class="nav-text">11.6 dd   按照指定大小和个数的数据块复制文件或转换文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-7-file"><span class="nav-number">2.10.7.</span> <span class="nav-text">11.7 file</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-%E6%89%93%E5%8C%85%E5%8E%8B%E7%BC%A9%E4%B8%8E%E6%90%9C%E7%B4%A2%E5%91%BD%E4%BB%A4"><span class="nav-number">2.11.</span> <span class="nav-text">12. 打包压缩与搜索命令  </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#12-1-tar"><span class="nav-number">2.11.1.</span> <span class="nav-text">12.1 tar</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-2-grep-%E6%8F%90%E5%8F%96%E8%A1%8C-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%90%9C%E7%B4%A2%E5%B8%B8%E7%94%A8"><span class="nav-number">2.11.2.</span> <span class="nav-text">12.2 grep   # 提取行  字符串搜索常用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-3-find-%E6%96%87%E4%BB%B6%E6%90%9C%E7%B4%A2-%E5%AE%9E%E7%94%A8"><span class="nav-number">2.11.3.</span> <span class="nav-text">12.3 find   # 文件搜索 实用</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-%E9%87%8D%E5%AE%9A%E5%90%91%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="nav-number">2.12.</span> <span class="nav-text">13. 重定向操作符 </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-%E7%AE%A1%E9%81%93%E7%AC%A6"><span class="nav-number">2.13.</span> <span class="nav-text">14. 管道符 |</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84%E9%80%9A%E9%85%8D%E7%AC%A6"><span class="nav-number">2.14.</span> <span class="nav-text">15. 命令行的通配符  *  []  ?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-%E5%B8%B8%E7%94%A8%E7%9A%84%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="nav-number">2.15.</span> <span class="nav-text">16. 常用的转义字符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-%E9%87%8D%E8%A6%81%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">2.16.</span> <span class="nav-text">17. 重要的环境变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19-%E9%85%8D%E7%BD%AE%E4%B8%BB%E6%9C%BA%E5%90%8D"><span class="nav-number">2.17.</span> <span class="nav-text">19. 配置主机名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#20-%E9%85%8D%E7%BD%AE%E7%BD%91%E5%8D%A1%E4%BF%A1%E6%81%AF"><span class="nav-number">2.18.</span> <span class="nav-text">20. 配置网卡信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21-%E9%85%8D%E7%BD%AEYum%E8%BD%AF%E4%BB%B6%E4%BB%93%E5%BA%93"><span class="nav-number">2.19.</span> <span class="nav-text">21. 配置Yum软件仓库  </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#22-%E7%BC%96%E5%86%99%E7%AE%80%E5%8D%95%E7%9A%84shell%E8%84%9A%E6%9C%AC"><span class="nav-number">2.20.</span> <span class="nav-text">22. 编写简单的shell脚本    </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#23-%E6%8E%A5%E6%94%B6%E7%94%A8%E6%88%B7%E7%9A%84%E5%8F%82%E6%95%B0"><span class="nav-number">2.21.</span> <span class="nav-text">23. 接收用户的参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#24-%E5%88%A4%E6%96%AD%E7%94%A8%E6%88%B7%E7%9A%84%E5%8F%82%E6%95%B0"><span class="nav-number">2.22.</span> <span class="nav-text">24. 判断用户的参数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#24-1-%E6%96%87%E4%BB%B6"><span class="nav-number">2.22.1.</span> <span class="nav-text">24.1 文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#24-2-%E6%95%B0%E5%AD%97"><span class="nav-number">2.22.2.</span> <span class="nav-text">24.2 数字</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#24-3-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">2.22.3.</span> <span class="nav-text">24.3 字符串</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#25-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="nav-number">2.23.</span> <span class="nav-text">25. 流程控制语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#25-1-if%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95%E8%AF%AD%E5%8F%A5"><span class="nav-number">2.23.1.</span> <span class="nav-text">25.1 if条件测试语句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#26-2-for%E6%9D%A1%E4%BB%B6%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5-for-%E5%8F%98%E9%87%8F%E5%90%8D-in-%E5%8F%96%E5%80%BC%E5%88%97%E8%A1%A8-do-%E5%91%BD%E4%BB%A4%E5%BA%8F%E5%88%97-done"><span class="nav-number">2.23.2.</span> <span class="nav-text">26.2 for条件循环语句(for 变量名 in 取值列表 do 命令序列 done)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#26-3-while%E6%9D%A1%E4%BB%B6%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5-while-%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95%E6%93%8D%E4%BD%9C-do-%E5%91%BD%E4%BB%A4%E5%BA%8F%E5%88%97-done"><span class="nav-number">2.23.3.</span> <span class="nav-text">26.3 while条件循环语句(while 条件测试操作 do 命令序列 done)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#26-4-case%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95%E8%AF%AD%E5%8F%A5"><span class="nav-number">2.23.4.</span> <span class="nav-text">26.4 case条件测试语句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#27-%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F-%E4%B8%80%E6%AC%A1%E6%80%A7%E3%80%81%E9%95%BF%E6%9C%9F%E6%80%A7%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1"><span class="nav-number">2.23.5.</span> <span class="nav-text">27. 计划任务服务程序 (一次性、长期性计划任务)    </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#28-%E7%94%A8%E6%88%B7%E8%BA%AB%E4%BB%BD"><span class="nav-number">2.24.</span> <span class="nav-text">28. 用户身份</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E6%96%87%E4%BB%B6"><span class="nav-number">2.24.1.</span> <span class="nav-text">相关文件:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#28-1-useradd"><span class="nav-number">2.24.2.</span> <span class="nav-text">28.1 useradd:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#28-2-passwd"><span class="nav-number">2.24.3.</span> <span class="nav-text">28.2 passwd</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#28-3-userdel"><span class="nav-number">2.24.4.</span> <span class="nav-text">28.3 userdel</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#28-4-usermod"><span class="nav-number">2.24.5.</span> <span class="nav-text">28.4 usermod</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#28-5-chmod"><span class="nav-number">2.24.6.</span> <span class="nav-text">28.5 chmod</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#29-netstat-atlnp"><span class="nav-number">2.25.</span> <span class="nav-text">29. netstat(-atlnp)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#30-ss-antlp"><span class="nav-number">2.26.</span> <span class="nav-text">30. ss(-antlp)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#31-lsof-list-open-files"><span class="nav-number">2.27.</span> <span class="nav-text">31. lsof: list open files</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#32-%E6%96%87%E4%BB%B6%E5%BD%92%E5%B1%9E%E4%B8%8E%E6%9D%83%E9%99%90"><span class="nav-number">2.28.</span> <span class="nav-text">32. 文件归属与权限</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#33-%E6%96%87%E4%BB%B6%E7%9A%84%E9%9A%90%E8%97%8F%E5%B1%9E%E6%80%A7"><span class="nav-number">2.29.</span> <span class="nav-text">33. 文件的隐藏属性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#33-1-chattr-%E5%8F%82%E6%95%B0-%E5%8F%82%E6%95%B0"><span class="nav-number">2.29.1.</span> <span class="nav-text">33.1 chattr(+参数 -参数)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#33-2-%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E8%A1%A8-ACL"><span class="nav-number">2.29.2.</span> <span class="nav-text">33.2 文件访问控制表(ACL)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E5%B0%8F%E7%9F%A5%E8%AF%86%EF%BC%9A"><span class="nav-number">2.30.</span> <span class="nav-text">补充小知识：</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4%E8%A1%A5%E5%85%85%EF%BC%9A"><span class="nav-number">2.30.1.</span> <span class="nav-text">文件系统命令补充：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E8%A7%A3%E5%8E%8B%E5%8E%8B%E7%BC%A9%E5%91%BD%E4%BB%A4"><span class="nav-number">2.30.2.</span> <span class="nav-text">相关解压压缩命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#link-%E5%8F%82%E8%80%832"><span class="nav-number">2.30.3.</span> <span class="nav-text">:link:参考2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bash%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="nav-number">2.30.4.</span> <span class="nav-text">bash快捷键</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2%E6%96%87%E4%BB%B6%E7%9A%84%E7%AC%AC%E5%87%A0%E8%A1%8C-%E7%AC%AC%E5%87%A0%E8%A1%8C%E5%91%BD%E4%BB%A4"><span class="nav-number">2.30.4.1.</span> <span class="nav-text">查询文件的第几行-第几行命令</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6%E9%A2%9C%E8%89%B2%E6%9B%B4%E6%94%B9"><span class="nav-number">2.30.4.2.</span> <span class="nav-text">命令提示符颜色更改</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A1%E4%BD%8D%E6%95%B0%E8%A1%A8%E7%A4%BA%E5%AD%97%E4%BD%93%E6%98%BE%E7%A4%BA%E6%A0%BC%E5%BC%8F"><span class="nav-number">2.30.4.3.</span> <span class="nav-text">总结：1位数表示字体显示格式</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#visudo-man-5-sudoers"><span class="nav-number">2.30.4.4.</span> <span class="nav-text">visudo (man 5 sudoers)</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%94%E5%9B%9E%E7%9B%AE%E5%BD%95"><span class="nav-number">2.31.</span> <span class="nav-text">返回目录</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="anyue967"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">anyue967</p>
  <div class="site-description" itemprop="description">Just for one truth</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">43</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">27</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">41</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/anyue967" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;anyue967" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:anyue1993@gmail.com" title="E-Mail → mailto:anyue1993@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/LanTian123LvXing" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;LanTian123LvXing" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://youtube.com/anyue1993" title="YouTube → https:&#x2F;&#x2F;youtube.com&#x2F;anyue1993" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="/www.shouce.ren" title="www.shouce.ren">手册网</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://developer.mozilla.org/zh-CN/" title="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;zh-CN&#x2F;" rel="noopener" target="_blank">MDN</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.runoob.com/" title="https:&#x2F;&#x2F;www.runoob.com&#x2F;" rel="noopener" target="_blank">菜鸟教程</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">陕ICP备2021012834号-1 </a>
      <img src="/images/beian.png" style="display: inline-block;">
  </div>

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">anyue967</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">351k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">5:19</span>
</div>

<!-- 网站运行时间的设置 -->
<span id="timeDate">载入天数...</span>
<span id="times">载入时分秒...</span>  Sometimes your whole life boils down to one insame move.
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("10/07/2019 00:00:00");//此处修改你的建站时间或者网站上线时间
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 ";
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
    }
setInterval("createtime()",250);
</script>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">

      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客数量">
        总访客数 <span id="busuanzi_value_site_uv"></span> 位
      </span>

    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">

      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>

      <span class="site-pv" title="总浏览量">
        总访问量 <span id="busuanzi_value_site_pv"></span> 次
      </span>

    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : true,
      notify     : false,
      appId      : 'Mqd39JYqUockAEjgF1Fp9Qi0-gzGzoHsz',
      appKey     : 'LPEU8VOLENFf0MYKiw2OOQgy',
      placeholder: "留点什么吧~~",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>


  <script id="__bs_script__">//<![CDATA[
    document.write("<script async src='http://HOST:3000/browser-sync/browser-sync-client.js?v=2.26.12'><\/script>".replace("HOST", location.hostname));/]]>
  </script>

  <!-- 页面点击小红心 -->
  <script type="text/javascript" src="/js/love.js"></script>
  <!-- 崩溃页面 -->
  <script type="text/javascript" src="/js/collapse.js"></script>
</body>
</html>
